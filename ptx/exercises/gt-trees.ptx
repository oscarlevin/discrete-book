<?xml version="1.0" encoding="UTF-8"?>
<exercises permid="tVk" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="exercises_gt-trees">

  <exercise permid="qcp">
    <statement>
      <p permid="LYO">
        Which of the following graphs are trees?

        <ol permid="ZNY">
          <li permid="yqI">
            <p permid="uqJ">
              <m>G = (V, E)</m> with <m>V = \{a, b, c, d, e\}</m> and <m>E = \{\{a, b\}, \{a,e\}, \{b, c\}, \{c,d\}, \{d,e\} \}</m>
            </p>
          </li>

          <li permid="exR">
            <p permid="axS">
              <m>G = (V, E)</m> with <m>V = \{a, b, c, d, e\}</m> and <m>E = \{\{a, b\}, \{b, c\}, \{c,d\}, \{d,e\}\}</m>
            </p>
          </li>

          <li permid="KFa">
            <p permid="GFb">
              <m>G = (V, E)</m> with <m>V = \{a, b, c, d, e\}</m> and <m>E = \{\{a, b\}, \{a, c\}, \{a,d\}, \{a,e\}\}</m>
            </p>
          </li>

          <li permid="qMj">
            <p permid="mMk">
              <m>G = (V, E)</m> with <m>V = \{a, b, c, d, e\}</m> and <m>E = \{\{a, b\}, \{a, c\}, \{d,e\}\}</m>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="LKt">
      <p permid="qqK">
        <ol permid="Blo">
          <li permid="WTs">
            <p permid="STt">
              This is not a tree since it contains a cycle.
              Note also that there are too many edges to be a tree,
              since we know that all trees with <m>v</m> vertices have <m>v-1</m> edges.
            </p>
          </li>

          <li permid="DaB">
            <p permid="zaC">
              This is a tree since it is connected and contains no cycles
              (which you can see by drawing the graph).
              All paths are trees.
            </p>
          </li>

          <li permid="jhK">
            <p permid="fhL">
              This is a tree since it is connected and contains no cycles
              (draw the graph).
              All stars are trees.
            </p>
          </li>

          <li permid="vwc">
            <p permid="LoU">
              This is a not a tree since it is not connected.
              Note that there are not enough edges to be a tree.
            </p>
          </li>
        </ol>
      </p>
    </solution>
  </exercise>

  <exercise permid="Wjy" xml:id="ex-tree-deg-seq">
    <statement>
      <p permid="sfX">
        For each degree sequence below,
        decide whether it must always,
        must never, or could possibly be a degree sequence for a tree.
        Remember, a degree sequence lists out the degrees
        (number of edges incident to the vertex)
        of all the vertices in a graph in non-increasing order.

        <ol permid="FVh">
          <li permid="bDl">
            <p permid="rwd">
              <m>(4,1,1,1,1)</m>
            </p>
          </li>

          <li permid="HKu">
            <p permid="XDm">
              <m>(3,3,2,1,1)</m>
            </p>
          </li>

          <li permid="nRD">
            <p permid="DKv">
              <m>(2,2,2,1,1)</m>
            </p>
          </li>

          <li permid="TYM">
            <p permid="jRE">
              <m>(4, 4, 3, 3, 3, 2, 2, 1, 1, 1, 1, 1, 1, 1)</m>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="rRC">
      <p permid="WxT">
        <ol permid="hsx">
          <li permid="AfV">
            <p permid="PYN">
              This must be the degree sequence for a tree.
              This is because the vertex of degree 4 must be adjacent to the four vertices of degree 1
              (there are no other vertices for it to be adjacent to),
              and thus we get a star.
            </p>
          </li>

          <li permid="gne">
            <p permid="wfW">
              This cannot be a tree.
              Each degree 3 vertex is adjacent to all but one of the vertices in the graph.
              Thus each must be adjacent to one of the degree 1 vertices
              (and not the other).
              That means both degree 3 vertices are adjacent to the degree 2 vertex,
              and to each other,
              so that means there is a cycle.
            </p>

            <p permid="cnf">
              Alternatively, count how many edges there are!
            </p>
          </li>

          <li permid="Mun">
            <p permid="Iuo">
              This might or might not be a tree.
              The length 4 path has this degree sequence
              (this is a tree),
              but so does the union of a 3-cycle and a length 1 path
              (which is not connected, so not a tree).
            </p>
          </li>

          <li permid="sBw">
            <p permid="oBx">
              This cannot be a tree.
              The sum of the degrees is 28, so there are 14 edges.
              But there are 14 vertices as well,
              so we don't have <m>v = e+1</m>,
              meaning this cannot be a tree.
            </p>
          </li>
        </ol>
      </p>
    </solution>
  </exercise>




  <exercise permid="CqH">
    <statement>
      <p permid="Yng">
        Suppose you have a graph with <m>v</m> vertices and <m>e</m> edges that satisfies <m>v = e+1</m>.
        Must the graph be a tree?
        Prove your answer.
      </p>
    </statement>
    <hint permid="EfU">
      <p permid="zKw">
        Try <xref ref="ex-tree-deg-seq"/>.
      </p>
    </hint>
    <solution permid="XYL">
      <p permid="CFc">
        No, such a graph need not be a tree.
        If the graph has both a cycle and is not connected,
        it could still have <m>v=e+1</m>.
        For example,
        a graph that consists of a 3-cycle together with a length 1 path will have 5 vertices and 4 edges,
        but is not a tree.
      </p>
    </solution>
  </exercise>

  <exercise permid="ixQ">
    <statement>
      <p permid="Eup">
        Prove that any graph
        (not necessarily a tree)
        with <m>v</m> vertices and <m>e</m> edges that satisfies
        <m>v \gt e+1</m> will NOT be connected.
      </p>
    </statement>
    <hint permid="knd">
      <p permid="fRF">
        Try a proof by contradiction and consider a spanning tree of the graph.
      </p>
    </hint>
  </exercise>

  <exercise permid="OEZ">
    <statement>
      <p permid="kBy">
        If a graph <m>G</m> with <m>v</m> vertices and <m>e</m> edges is connected and has
        <m>v \lt e+1</m>, must it contain a cycle?
        Prove your answer.
      </p>
    </statement>
    <solution permid="Qum">
      <p permid="iMl">
        Yes.
        We will prove the contrapositive.
        Assume <m>G</m> does not contain a cycle.
        Then <m>G</m> is a tree,
        so would have <m>v = e+1</m>, contrary to stipulation.
      </p>
    </solution>
  </exercise>

  <exercise permid="uMi" xml:id="ex-forest">
    <statement>
      <p permid="QIH">
        We define a <term>forest</term> to be a graph with no cycles.

        <ol permid="mcq">
          <li permid="YIF">
            <p permid="UIG">
              Explain why this is a good name.
              That is, explain why a forest is a union of trees.
            </p>
          </li>

          <li permid="EPO">
            <p permid="APP">
              Suppose <m>F</m> is a forest consisting of <m>m</m> trees and <m>v</m> vertices.
              How many edges does <m>F</m> have?
              Explain.
            </p>
          </li>

          <li permid="kWX">
            <p permid="gWY">
              Prove that any graph <m>G</m> with <m>v</m> vertices and <m>e</m> edges that satisfies
              <m>v \lt e+1</m> must contain a cycle (i.e., not be a forest).
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="wBv">
      <p permid="OTu">
        <ol permid="NzG">
          <li permid="Reg">
            <p permid="Neh">
              If a forest is connected, then because it has no cycles,
              it is a tree
              (and as such a union of trees).
              On the other hand, if the forest is not connected,
              then it is the union of some number of connected components.
              Each of these are connected graphs that contain no cycles,
              so each is a tree.
              Thus the forest is a union of trees.
            </p>
          </li>

          <li permid="xlp">
            <p permid="tlq">
              The total number of edges will be <m>e = v - m</m>.
              The reason is that <m>F</m> is the union of trees,
              each of which consist of some number of vertices and some number of edges.
              In fact, each tree in the forest will have one fewer edge than it has vertices.
              If we add up all the vertices, we will get <m>v</m>.
              If we add up all the edges,
              we will get <m>v</m> less one edge for each tree,
              of which there are <m>m</m>.
            </p>
          </li>

          <li permid="dsy">
            <p permid="Zsz">
              Suppose that graph <m>G</m> has <m>m</m> connected components.
              Assume that <m>G</m> has no cycles.
              Then <m>G</m> is a forest.
              Thus we have <m>v = e+m</m>,
              contradicting the assumption that <m>v \lt e+1</m>.
              Thus <m>G</m> cannot be a forest.
            </p>
          </li>
        </ol>
      </p>
    </solution>
  </exercise>
  
  
    <exercise>
      <statement>
        <p>
          Give a careful proof of <xref ref="cor-unique-paths-forests"/>: A graph is a forest if and only if there is at most one path between any pair of vertices.  Use proof by contrapositive (and not a proof by contradiction) for both directions.
        </p>
      </statement>
      <hint>
        <p>
          Examining the proof of <xref ref="prop-unique-paths-trees"/> gives you most of what you need, but make sure to just give the relevant parts, and take care to not use proof by contradiction.
        </p>
      </hint>
    </exercise>

    <exercise>
      <statement>
        <p>
          Give a careful proof by induction on the number of vertices, that every tree is bipartite.
        </p>
      </statement>
      <hint>
        <p>
          You will need to remove a vertex of degree one, apply the inductive hypothesis to the result, and then say which set the degree one vertex to.
        </p>
      </hint>
    </exercise>

    <exercise permid="fDk">
      <statement>
        <p permid="BzJ">
          Let <m>T</m> be a rooted tree that contains vertices <m>u</m>,
          <m>v</m>,
          and <m>w</m>
          (among possibly others).
          Prove that if <m>w</m> is a descendant of both <m>u</m> and <m>v</m>,
          then <m>u</m> is a descendant of <m>v</m> or <m>v</m> is a descendant of <m>u</m>.
        </p>
      </statement>
      <!-- <solution>
        NNEDS SOLUTION
      </solution> -->



  <exercise permid="aTr">
    <statement>
      <p permid="wPQ">
        Unless it is already a tree,
        a given graph <m>G</m> will have multiple spanning trees.
        How similar or different must these be?

        <ol permid="Sjz">
          <li permid="JzH">
            <p permid="FzI">
              Must all spanning trees of a given graph be isomorphic to each other?
              Explain why or give a counterexample.
            </p>
          </li>

          <li permid="pGQ">
            <p permid="lGR">
              Must all spanning trees of a given graph have the same number of edges?
              Explain why or give a counterexample.
            </p>
          </li>

          <li permid="VNZ">
            <p permid="ROa">
              Must all spanning trees of a graph have the same number of leaves (vertices of degree 1)?
              Explain why or give a counterexample.
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="cIE">
      <p permid="vaD">
        <ol permid="tGP">
          <li permid="BVi">
            <p permid="xVj">
              No, although there are graphs for which this is true.
              For example, <m>K_4</m> has a spanning tree that is a path
              (of three edges)
              and also a spanning tree that is a star
              (with center vertex of degree 3).
            </p>
          </li>

          <li permid="icr">
            <p permid="ecs">
              Yes.
              For a fixed graph, we have a fixed number <m>v</m> of vertices.
              Any spanning tree of the graph will also have <m>v</m> vertices,
              and since it is a tree, must have <m>v-1</m> edges.
            </p>
          </li>

          <li permid="OjA">
            <p permid="KjB">
              No, although there are graph for which this is true
              (note that if all spanning trees are isomorphic,
              then all spanning trees will have the same number of leaves).
              Again, <m>K_4</m> is a counterexample.
              One spanning tree is a path,
              with only two leaves, another spanning tree is a star with 3 leaves.
            </p>
          </li>
        </ol>
      </p>
    </solution>
  </exercise>

  <exercise permid="HaA">
    <statement>
      <p permid="cWZ">
        Find all spanning trees of the graph below.
        How many different spanning trees are there?
        How many different spanning trees are there
        <em>up to isomorphism</em> (that is,
        if you grouped all the spanning trees by which are isomorphic,
        how many groups would you have)?
      </p>

      <sidebyside permid="dNX" width="30%">

        <image permid="NOb">

          <latex-image>
            \begin{tikzpicture}
              \footnotesize{
              \draw (0,0) -- (-1,.75) \vl{$a$} -- (-1,-.75) \vl{$b$} -- (0,0) \vb{$c$} -- (1,1) \vb{$d$} -- (2,0) \vr{$e$} -- (1,-1) \va{$f$} -- (0,0) -- (2,0);
              }
            \end{tikzpicture}
          </latex-image>
        </image>

      </sidebyside>
    </statement>
  </exercise>

  <exercise permid="nhJ">
    <statement>
      <p permid="Jei">
        Give an example of a graph that has exactly 7 different spanning trees.
        Note, it acceptable for some or all of these spanning trees to be isomorphic.
      </p>
    </statement>
    <solution permid="IPN">
      <p permid="bhM">
        There are more complicated ways of doing this,
        but one example is to start with the cycle <m>C_7</m>.
        Any edge that you remove will result in a tree
        (in fact a path),
        and there are 7 edges to choose from.
        Thus there are exactly 7 spanning trees of this graph
        (although they are all isomorphic).
      </p>
    </solution>
  </exercise>

  <exercise permid="ToS">
    <statement>
      <p permid="plr">
        Prove that every connected graph which is not itself a tree must have at last three different
        (although possibly isomorphic)
        spanning trees.
      </p>
    </statement>
    <solution permid="oWW">
      <p permid="HoV">
        If a connected graph is not a tree, then it has a cycle.
        That cycle must consist of at least three edges,
        call them <m>e_1</m>, <m>e_2</m>, and <m>e_3</m>.
        Removing any one of these three edges cannot disconnect the graph,
        so we can start to form our spanning tree in at least three ways,
        and then be sure to include both of the other two edges.
        For example, say we start with the graph <m>G</m>.
        First, remove <m>e_1</m>, to get a graph <m>G'</m> that is still connected.
        Now build a spanning tree that includes <m>e_2</m> and <m>e_3</m> by putting those two edges into the spanning tree first
        (putting those two edges in cannot create a cycle).
        Then keep adding edges until you get a spanning tree.
      </p>
    </solution>
  </exercise>

  <exercise permid="zwb">
    <statement>
      <p permid="VsA">
        Consider edges that must be in every spanning tree of a graph.
        Must every graph have such an edge?
        Give an example of a graph that has exactly one such edge.
      </p>
    </statement>
    <solution permid="Vef">
      <p permid="nwe">
        Note that such an edge, if removed,
        would disconnect the graph.
        A cycle does not have an edge like this.
        In fact, we call graphs that have an edge like this <term>1-connected</term>.
      </p>

      <p permid="TDn">
        There are lots of examples of graphs with only one edge like this.
        In fact, we could take just a single edge as our graph.
        Or something like this:
      </p>

      <sidebyside permid="JVg" width="30%">

        <image permid="hGS">

          <latex-image>
            \begin{tikzpicture}
              \draw (-1,0) \v -- (-2,1) \v -- (-2,-1) \v -- (-1,0) -- (1,0) \v -- (2,1) \v -- (2,-1) \v -- (1,0);
            \end{tikzpicture}
          </latex-image>
        </image>

      </sidebyside>
    </solution>
  </exercise>


  </exercise>

</exercises>
