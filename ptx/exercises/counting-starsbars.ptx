<?xml version="1.0" encoding="UTF-8"?>
<exercises permid="ysI" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="exercises_stars-and-bars">

  <exercise permid="kwh">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(10,5)");
    $ans2 = Compute("C(14,5)");</pg-code>
    </setup>
    <statement>
      <p permid="YaL">
        A <term>multiset</term> is a collection of objects,
        just like a set, but can contain an object more than once
        (the order of the elements still doesn't matter).
        For example,
        <m>\{1,1, 2, 5, 5, 7\}</m> is a multiset of size 6.

        <ol permid="AoZ">
          <li permid="xut">
            <p permid="Pcy">
              How many <em>sets</em> of size 5 can be made using the 10 numeric digits 0 through 9?
            </p>

            <p permid="vjH">
              <var name="$ans1" width="5"/>
            </p>
          </li>

          <li permid="dBC">
            <p permid="bqQ">
              How many <em>multi</em>sets of size 5 can be made using the 10 numeric digits 0 through 9?
            </p>

            <p permid="HxZ">
              <var name="$ans2" width="5"/>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="ZXc">
      <p permid="OGZ">
        <ol permid="jqO">
          <li permid="JIL">
            <p permid="nFi">
              <m>{10\choose 5}</m> sets.
              We must select 5 of the 10 digits to put in the set.
            </p>
          </li>

          <li permid="pPU">
            <p permid="TMr">
              Use stars and bars:
              each star represents one of the 5 elements of the set,
              each bar represents a switch between digits.
              So there are 5 stars and 9 bars,
              giving us <m>{14 \choose 5}</m> sets.
            </p>
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="QDq">
    <statement>
      <p permid="EhU">
        Each of the counting problems below can be solved with stars and bars.
        For each, say what outcome the diagram
        <me permid="FXh">
          ***|*||**|
        </me>
        represents, if there are the correct number of stars and bars for the problem.
        Otherwise, say why the diagram does not represent any outcome,
        and what a correct diagram would look like.

        <ol permid="gwi">
          <li permid="VXd">
            <p permid="zTA">
              How many ways are there to select a handful of 6 jellybeans from a jar that contains 5 different flavors?
            </p>
          </li>

          <li permid="Cem">
            <p permid="gaJ">
              How many ways can you distribute 5 identical lollipops to 6 kids?
            </p>
          </li>

          <li permid="ilv">
            <p permid="MhS">
              How many 6-letter words can you make using the 5 vowels?
            </p>
          </li>

          <li permid="OsE">
            <p permid="spb">
              How many solutions are there to the equation
              <m>x_1 + x_2 + x_3 + x_4 = 6</m>.
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="Gel">
      <p permid="uOi">
        <ol permid="PxX">
          <li permid="uzN">
            <p permid="Ywk">
              You take 3 strawberry, 1 lime, 0 licorice, 2 blueberry and 0 bubblegum.
            </p>
          </li>

          <li permid="aGW">
            <p permid="EDt">
              This is backwards.
              We don't want the stars to represent the kids because the kids are not identical,
              but the stars are.
              Instead we should use 5 stars
              (for the lollipops)
              and use 5 bars to switch between the 6 kids.
              For example,
              <me permid="meq">
                **||***|||
              </me>
              would
              represent the outcome with the first kid getting 2 lollipops,
              the third kid getting 3, and the rest of the kids getting none.
            </p>
          </li>

          <li permid="GOf">
            <p permid="kKC">
              This is the word AAAEOO.
            </p>
          </li>

          <li permid="mVo">
            <p permid="QRL">
              This doesn't represent a solution.
              Each star should represent one of the 6 units that add up to 6, and the bars should
              <em>switch</em>
              between the different variables.
              We have one too many bars.
              An example of a correct diagram would be
              <me permid="Slz">
                *|**||***
              </me>,
              representing that
              <m>x_1 = 1</m>,
              <m>x_2 = 2</m>,
              <m>x_3 = 0</m>, and
              <m>x_4 = 3</m>.
            </p>
          </li>
        </ol>
      </p>
    </solution>
  </exercise>

  <exercise permid="wKz">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(18,14)");
    $ans2 = Compute("C(13,9)");</pg-code>
    </setup>
    <statement>
      <p permid="kpd">
        After gym class you are tasked with putting the 14 identical dodgeballs away into 5 bins.

        <ol permid="MDr">
          <li permid="Tcx">
            <p permid="wYU">
              How many ways can you do this if there are no restrictions?
            </p>

            <p permid="dgd">
              <var name="$ans1" width="5"/>
            </p>
          </li>

          <li permid="zjG">
            <p permid="Jnm">
              How many ways can you do this if each bin must contain at least one dodgeball?
            </p>

            <p permid="puv">
              <var name="ans2" width="5"/>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="mlu">
      <p permid="aVr">
        <ol permid="vFg">
          <li permid="fqP">
            <m>{18 \choose 14}</m>
            ways.
            Each outcome can be represented by a sequence of 14 stars and 4 bars.
          </li>

          <li permid="LxY">
            <m>{13 \choose 9}</m>
            ways.
            First put one ball in each bin.
            This leaves 9 stars and 4 bars.
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="cRI">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(7,5)");
    $ans2 = Compute("C(10,8)");
    $ans3 = Compute("C(19,17)");</pg-code>
    </setup>
    <statement>
      <p permid="Qwm">
        How many integer solutions are there to the equation
        <m>x + y + z = 8</m>
        for which

        <ol permid="sKA">
          <li permid="rFh">
            <p permid="VBE">
              <m>x</m>, <m>y</m>, and <m>z</m> are all positive?
            </p>

            <p permid="BIN">
              <var name="$ans1" width="5"/>
            </p>
          </li>

          <li permid="XMq">
            <p permid="hPW">
              <m>x</m>, <m>y</m>, and <m>z</m> are all non-negative?
            </p>

            <p permid="NXf">
              <var name="$ans2" width="5"/>
            </p>
          </li>

          <li permid="DTz">
            <p permid="ueo">
              <m>x</m>, <m>y</m>,
              and <m>z</m> are all greater than or equal to <m>-3</m>.
            </p>

            <p permid="alx">
              <var name="$ans3" width="5"/>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="SsD">
      <p permid="HcA">
        <ol permid="bMp">
          <li permid="kaI">
            <p permid="GsG">
              <m>{7 \choose 5}</m> solutions.
              After each variable gets 1 star for free,
              we are left with 5 stars and 2 bars.
            </p>
          </li>

          <li permid="QhR">
            <p permid="mzP">
              <m>{10 \choose 8}</m> solutions.
              We have 8 stars and 2 bars.
            </p>
          </li>

          <li permid="wpa">
            <p permid="SGY">
              <m>{19 \choose 17}</m> solutions.
              This problem is equivalent to finding the number of solutions to <m>x' + y' + z' = 17</m> where <m>x'</m>,
              <m>y'</m> and <m>z'</m> are non-negative. (In fact,
              we really just do a substitution.
              Let <m>x = x'- 3</m>, <m>y = y' - 3</m> and <m>z = z' - 3</m>).
            </p>
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="IYR">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(7,5)");
    $ans2 = Compute("C(11,5)");</pg-code>
    </setup>
    <statement>
      <p permid="wDv">
        Using the digits 2 through 8, find the number of different 5-digit numbers such that:

        <ol permid="YRJ">
          <li permid="cwj">
            <p permid="yOh">
              Digits cannot be repeated and must be written in increasing order.
              For example, 23678 is okay, but 32678 is not.
            </p>

            <p permid="eVq">
              <var name="$ans1" width="5"/>
            </p>
          </li>

          <li permid="IDs">
            <p permid="Lcz">
              Digits <em>can</em> be repeated and must be written in
              <em>non-decreasing</em> order.
              For example, 24448 is okay, but 24484 is not.
            </p>

            <p permid="rjI">
              <var name="$ans2" width="5"/>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="yzM">
      <p permid="njJ">
        <ol permid="HTy">
          <li permid="oKB">
            <p permid="XqR">
              There are <m>{7 \choose 5}</m> numbers.
              We simply choose five of the seven digits and once chosen put them in increasing order.
            </p>
          </li>

          <li permid="URK">
            <p permid="Dya">
              This requires stars and bars.
              Use a star to represent each of the 5 digits in the number,
              and use their position relative to the bars to say what numeral fills that spot.
              So we will have 5 stars and 6 bars, giving
              <m>{11 \choose 5}</m> numbers.
            </p>
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="pga">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans = Compute("C(10,5)");</pg-code>
    </setup>
    <statement>
      <p permid="cKE">
        When playing Yahtzee, you roll five regular 6-sided dice.
        How many different outcomes are possible from a single roll?
        The order of the dice does not matter.
      </p>

      <p permid="IRN">
        <var name="$ans" width="5"/>
      </p>
    </statement>
    <solution permid="eGV">
      <p permid="TqS">
        <m>{10 \choose 5}</m> outcomes.
        We have 5 stars
        (the five dice)
        and 5 bars
        (the five switches between the numbers 1-6).
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="Vnj">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans = Compute("C(10,7)");</pg-code>
    </setup>
    <statement>
      <p permid="oYW">
        Your friend tells you she has 7 coins in her hand
        (just pennies, nickels, dimes and quarters).
        If you guess how many of each kind of coin she has,
        she will give them to you.
        If you guess randomly, what is the probability that you will be correct?
      </p>

      <p permid="Vgf">
        <var name="$ans" width="5"/>
      </p>
    </statement>
    <solution permid="KOe">
      <p permid="zyb">
        We must figure out how many different combinations of 7 coins are possible.
        Let a star represent each coin,
        and a bar represent switching between type of coin.
        For example, **|*||**** represents 2 pennies,
        one nickel, no dimes and 4 quarters.
        The
        number of such star and bar diagrams (with 7 stars and 3 bars) is
        <m>{10 \choose 7} = 120</m>.
        Thus you have a 1 in 120 chance of guessing correctly.
      </p>
    </solution></webwork>
  </exercise>
  <!-- <exercise>
    <statement>
      <p>
        For each of the following questions, first give one example of an outcome (i.e., on of the many things you are counting) and show how that particular outcome can be represented as a <q>stars and bars</q> diagram.  Then, answer the counting question.
        <ol>
          <li>
            <p>
              When playing Yahtzee, you roll five regular 6-sided dice.  How many different outcomes are possible from a single (five dice) roll?  The order of the dice does not matter.
              <solution>
              The outcome of (2, 3, 3, 4, 6) is represented by the diagram <m>|*|**|*||*</m>.  Each star represents a particular number that is rolled, so there should be 5 stars (since there are 5 dice).  Each bar switches from one number to the next, so there should be 5 bars.

    Since we are counting these diagrams, the total number of outcomes is <m>{10 \choose 5}</m>.
              </solution>
            </p>
          </li>

          <li>
            <p>
              Your friend has 7 coins in her pocket (each could be a penny, nickel, dime or quarter).  How many different pocketfuls are possible?
              <solution>
              One outcome is (p, p, p, n, d,d,d).  This is represented by <m>***|*|***|</m>.  Each star represents a coin.  Where that star is represents what kind of coin it is.  We need 7 stars, and 3 bars (to switch between types of coins).

    Thus the total number of pocketfuls is <m>{10 \choose 7}</m>.
              </solution>
            </p>
          </li>
        </ol>
      </p>
    </statement>
  </exercise> -->
  <exercise permid="Bus">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans = Compute("C(18,15)");</pg-code>
    </setup>
    <statement>
      <p permid="Bno">
        How many integer solutions to
        <m>x_1 + x_2 + x_3 + x_4 = 25</m> are there for which <m>x_1 \ge 1</m>,
        <m>x_2 \ge 2</m>, <m>x_3 \ge 3</m> and <m>x_4 \ge 4</m>?
      </p>

      <p permid="hux">
        <var name="$ans" width="5"/>
      </p>
    </statement>
    <solution permid="qVn">
      <p permid="fFk">
        <m>{18 \choose 15}</m> solutions.
        Distribute 10 units to the variables before finding all solutions to
        <m>x_1' + x_2' + x_3' + x_4' = 15</m> in non-negative integers.
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="hBB">
    <statement>
      <p permid="NBG">
        Solve the three counting problems below.
        Then say why it makes sense that they all have the same answer.
        That is, say how you can interpret them as each other.

        <ol permid="EYS">
          <li permid="AYT">
            <p permid="jFj">
              How many ways are there to distribute 8 cookies to 3 kids?
            </p>
          </li>

          <li permid="hgc">
            <p permid="vTB">
              How many solutions in non-negative integers are there to
              <m>x+y+z = 8</m>?
            </p>
          </li>

          <li permid="Nnl">
            <p permid="caK">
              How many different packs of 8 crayons can you make using crayons that come in red,
              blue and yellow?
            </p>
          </li>
        </ol>
      </p>
    </statement>
  </exercise>

  <exercise permid="NIK">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(10,5)");
    $ans2 = Compute("C(14,5)");</pg-code>
    </setup>
    <statement>
      <p permid="tIP">
        Consider functions <m>f:\{1,2,3,4,5\} \to \{0,1,2,\ldots,9\}</m>.

        <ol permid="lgb">
          <li permid="tuu">
            <p permid="IhT">
              How many of these functions are strictly increasing?
              Explain. (A function is strictly increasing provided if <m>a \lt b</m>,
              then <m>f(a) \lt f(b)</m>.)
            </p>

            <p permid="opc">
              <var name="$ans1" width="5"/>
            </p>
          </li>

          <li permid="ZBD">
            <p permid="Uwl">
              How many of the functions are non-decreasing?
              Explain. (A function is non-decreasing provided if <m>a \lt b</m>,
              then <m>f(a) \le f(b)</m>.)
            </p>

            <p permid="ADu">
              <var name="$ans2" width="5"/>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="Xcw">
      <p permid="LMt">
        <ol permid="oaH">
          <li permid="FIM">
            <p permid="gKD">
              <m>{10 \choose 5}</m>.
              Note that a strictly increasing function is automatically injective.
              So the five outputs must all be different.
              So let's first pick which five outputs we will use:
              there are <m>{10 \choose 5}</m> ways to do this.
              Now how many ways are there to assign those outputs to the inputs <m>1</m> through 5?
              Only one way,
              since there is only one way to arrange numbers in increasing order.
            </p>
          </li>

          <li permid="lPV">
            <p permid="MRM">
              <m>{14 \choose 5}</m>.
              This is in fact a stars and bars problem.
              The stars are the 5 inputs and the bars are the 9 spots between the 10 possible outputs.
              Think of it this way - we will specify <m>f(1)</m>,
              then <m>f(2)</m>, then <m>f(3)</m>, and so on in that order.
              Start with the possible output 0.
              We can use it as the output of <m>f(1)</m>,
              or we can switch to 1 as a potential output.
              Say we put <m>f(1) = 1</m>.
              Now we are at 1
              (can't go back to 0).
              Should <m>f(2) = 1</m>?
              If yes, then we are putting down another star.
              If no, put down a bar and switch to 2.
              Maybe you switch to 3, then assign <m>f(2) = 3</m> and <m>f(3) = 3</m>
              (two more stars)
              before switching to 4 as a possible output.
              And so on.
            </p>
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="tPT">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(20,4)");
    $ans2 = Compute("P(20,4)");
    $ans3 = Compute("C(23,4)");
    $ans4 = Compute("20^4");</pg-code>
    </setup>
    <statement>
      <p permid="ZPY">
        <em>Conic</em>,
        your favorite math themed fast food drive-in offers 20 flavors which can be added to your soda.
        You have enough money to buy a large soda with 4 added flavors.
        How many different soda concoctions can you order if:

        <ol permid="Rnk">
          <li permid="RXe">
            <p permid="sYV">
              You refuse to use any of the flavors more than once?
            </p>

            <p permid="Zge">
              <var name="$ans1" width="5"/>
            </p>
          </li>

          <li permid="yen">
            <p permid="Fnn">
              You refuse repeats but care about the order the flavors are added?
            </p>

            <p permid="luw">
              <var name="$ans2" width="5"/>
            </p>
          </li>

          <li permid="elw">
            <p permid="RBF">
              You allow yourself multiple shots of the same flavor?
            </p>

            <p permid="xIO">
              <var name="$ans3" width="5"/>
            </p>
          </li>

          <li permid="KsF">
            <p permid="dPX">
              You allow yourself multiple shots,
              and care about the order the flavors are added?
            </p>

            <p permid="JXg">
              <var name="$ans4" width="5"/>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="DjF">
      <p permid="rTC">
        <ol permid="UhQ">
          <li permid="qzO">
            <p permid="qep">
              <m>{20 \choose 4}</m>
              sodas
              (order does not matter and repeats are not allowed).
            </p>
          </li>

          <li permid="WGX">
            <p permid="Wly">
              <m>P(20, 4) = 20\cdot 19\cdot 18 \cdot 17</m>
              sodas
              (order matters and repeats are not allowed).
            </p>
          </li>

          <li permid="COg">
            <p permid="CsH">
              <m>{23 \choose 4}</m> sodas
              (order does not matter and repeats are allowed; 4 stars and 19 bars).
            </p>
          </li>

          <li permid="iVp">
            <p permid="izQ">
              <m>20^4</m> sodas
              (order matters and repeats are allowed; 20 choices 4 times).
            </p>
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>

</exercises>
