<?xml version="1.0" encoding="UTF-8"?>
<exercises permid="tuh" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="exercises_count-conc">
  <title>Chapter Review</title>
  <exercise permid="YvK">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(8,5)");
    $ans2 = Compute("C(12,9)");
    $ans3 = Compute("4^9");
    $ans4 = Compute("4^9 - (C(4,1)*3^9 - C(4,2)*2^9 + C(4,3)*1^9)");</pg-code>
    </setup>
    <statement>
      <p permid="YRw">
        You have 9 presents to give to your 4 kids.
        How many ways can this be done if:

        <ol permid="zxB">
          <li permid="cKe">
            <p permid="YYA">
              The presents are identical, and each kid gets at least one present?
            </p>

            <p permid="FfJ">
              <var name="$ans1" width="5"/>
            </p>
          </li>

          <li permid="IRn">
            <p permid="lmS">
              The presents are identical, and some kids might get no presents?
            </p>

            <p permid="Rub">
              <var name="$ans2" width="5"/>
            </p>
          </li>

          <li permid="oYw">
            <p permid="xBk">
              The presents are unique, and some kids might get no presents?
            </p>

            <p permid="dIt">
              <var name="$ans3" width="5"/>
            </p>
          </li>

          <li permid="VfF">
            <p permid="JPC">
              The presents are unique and each kid gets at least one present?
            </p>

            <p permid="pWL">
              <var name="$ans4" width="15"/>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="rji">
      <p permid="NIx">
        <ol permid="qdP">
          <li permid="BmO">
            <m>{8 \choose 5}</m> ways, after giving one present to each kid,
            you are left with 5 presents (stars) which need to be divide among the 4 kids
            (giving 3 bars).
          </li>

          <li permid="htX">
            <m>{12 \choose 9}</m> ways.
            You have 9 stars and 3 bars.
          </li>

          <li permid="NBg">
            <m>4^9</m>.
            You have 4 choices for whom to give each present.
            This is like making a function from the set of presents to the set of kids.
          </li>

          <li permid="tIp">
            <m>4^9 - \left[{4 \choose 1}3^9 - {4\choose 2}2^9 + {4 \choose 3}1^9 \right]</m> ways.
            Now the function from the set of presents to the set of kids must be surjective.
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>
<!-- Do something with this.  These would actually make fine webwork problems; maybe an exercisegroup? -->
  <exercise permid="ECT">
    <statement>
      <p permid="EYF">
        For each of the following counting problems,
        say whether the answer is <m>{10\choose 4}</m>,
        <m>P(10,4)</m>, or neither.
        If you answer is <q>neither,</q>
        say what the answer should be instead.

        <ol permid="fEK">
          <li permid="ZPy">
            <p permid="WdU">
              How many shortest lattice paths are there from <m>(0,0)</m> to <m>(10,4)</m>?
            </p>
          </li>

          <li permid="FWH">
            <p permid="Cld">
              If you have 10 bow ties,
                <idx><h>bow ties</h></idx>
              and you want to select 4 of them for next week,
              how many choices do you have?
            </p>
          </li>

          <li permid="mdQ">
            <p permid="ism">
              Suppose you have 10 bow ties and you will wear one on each of the next 4 days.
              How many choices do you have?
            </p>
          </li>

          <li permid="SkZ">
            <p permid="Ozv">
              If you want to wear 4 of your 10 bow ties next week (Monday through Sunday),
              how many ways can this be accomplished?
            </p>
          </li>

          <li permid="ysi">
            <p permid="uGE">
              Out of a group of 10 classmates,
              how many ways can you rank your top 4 friends?
            </p>
          </li>

          <li permid="ezr">
            <p permid="aNN">
              If 10 students come to their professor's office but only 4 can fit at a time,
              how different combinations of 4 students can see the prof first?
            </p>
          </li>

          <li permid="KGA">
            <p permid="GUW">
              How many 4 letter words can be made from the first 10 letters of the alphabet?
            </p>
          </li>

          <li permid="qNJ">
            <p permid="ncf">
              How many ways can you make the word <q>cake</q>
              from the first 10 letters of the alphabet?
            </p>
          </li>

          <li permid="WUS">
            <p permid="Tjo">
              How many ways are there to distribute 10 apples among 4 children?
            </p>
          </li>

          <li permid="Dcb">
            <p permid="zqx">
              If you have 10 kids
              (and live in a shoe)
              and 4 types of cereal, how many ways can your kids eat breakfast?
            </p>
          </li>

          <li permid="jjk">
            <p permid="fxG">
              How many ways can you arrange exactly 4 ones in a string of 10 binary digits?
            </p>
          </li>

          <li permid="Pqt">
            <p permid="LEP">
              You want to select 4 single digit numbers as your lotto picks.
              How many choices do you have?
            </p>
          </li>

          <li permid="vxC">
            <p permid="rLY">
              10 kids want ice-cream.
              You have 4 varieties.
              How many ways are there to give the kids as much ice-cream as they want?
            </p>
          </li>

          <li permid="bEL">
            <p permid="XTh">
              How many 1-1 functions are there from
              <m>\{1,2,\ldots, 10\}</m> to <m>\{a,b,c,d\}</m>?
            </p>
          </li>

          <li permid="HLU">
            <p permid="Eaq">
              How many surjective functions are there from
              <m>\{1,2,\ldots, 10\}</m> to <m>\{a,b,c,d\}</m>?
            </p>
          </li>

          <li permid="nTd">
            <p permid="khz">
              Each of your 10 bow ties match 4 pairs of suspenders.
              How many outfits can you make?
            </p>
          </li>

          <li permid="Uam">
            <p permid="QoI">
              After the party, the 10 kids each choose one of 4 party-favors.
              How many outcomes?
            </p>
          </li>

          <li permid="Ahv">
            <p permid="wvR">
              How many 6-elements subsets are there of the set <m>\{1,2,\ldots, 10\}</m>
            </p>
          </li>

          <li permid="goE">
            <p permid="cDa">
              How many ways can you split up 11 kids into 5 teams?
            </p>
          </li>

          <li permid="MvN">
            <p permid="IKj">
              How many solutions are there to
              <m>x_1 + x_2 + \cdots + x_5 = 6</m> where each <m>x_i</m> is non-negative?
            </p>
          </li>

          <li permid="sCW">
            <p permid="oRs">
              Your band goes on tour.
              There are 10 cities within driving distance,
              but only enough time to play 4 of them.
              How many choices do you have for the cities on your tour?
            </p>
          </li>

          <li permid="YKf">
            <p permid="UYB">
              In how many different ways can you play the 4 cities you choose?
            </p>
          </li>

          <li permid="ERo">
            <p permid="BfK">
              Out of the 10 breakfast cereals available, you want to have 4 bowls.
              How many ways can you do this?
            </p>
          </li>

          <li permid="kYx">
            <p permid="hmT">
              There are 10 types of cookies available.
              You want to make a 4 cookie stack.
              How many different stacks can you make?
            </p>
          </li>

          <li permid="RfG">
            <p permid="Nuc">
              From your home at (0,0) you want to go to either the donut shop at (5,4) or the one at (3,6).
              How many paths could you take?
            </p>
          </li>

          <li permid="xmP">
            <p permid="tBl">
              How many 10-digit numbers do not contain a sub-string of 4 repeated digits?
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="Xqr">
      <p permid="tPG">
        <ol permid="WkY">
          <li permid="dtY">
            <p permid="ZIu">
              Neither. <m>{14 \choose 4}</m> paths.
            </p>
          </li>

          <li permid="JBh"><m>{10\choose 4}</m> bow ties.</li>

          <li permid="pIq"><m>P(10,4)</m>, since order is important.</li>

          <li permid="VPz">
            <p permid="FPD">
              Neither.
              Assuming you will wear each of the 4 ties on just 4 of the 7 days,
              without repeats:
              <m>{10\choose 4}P(7,4)</m>.
            </p>
          </li>

          <li permid="BWI"><m>P(10,4)</m>.</li>

          <li permid="idR"><m>{10\choose 4}</m>.</li>

          <li permid="Ola">
            <p permid="lWM">
              Neither.
              Since you could repeat letters: <m>10^4</m>.
              If no repeats are allowed, it would be <m>P(10,4)</m>.
            </p>
          </li>

          <li permid="usj">
            <p permid="SdV">
              Neither.
              Actually, <q>k</q> is the 11th letter of the alphabet,
              so the answer is 0.
              If <q>k</q> was among the first 10 letters,
              there would only be 1 way - write it down.
            </p>
          </li>

          <li permid="azs">
            <p permid="yle">
              Neither.
              Either <m>{9\choose 3}</m>
              (if every kid gets an apple)
              or <m>{13 \choose 3}</m>
              (if appleless kids are allowed).
            </p>
          </li>

          <li permid="GGB">
            <p permid="esn">
              Neither.
              Note that this could not be
              <m>{10 \choose 4}</m> since the 10 things and 4 things are from different groups. <m>4^{10}</m>.
            </p>
          </li>

          <li permid="mNK">
            <m>{10 \choose 4}</m> - don't be fooled by the <q>arrange</q>
            in there - you are picking 4 out of 10
            <em>spots</em> to put the 1's.
          </li>

          <li permid="SUT">
            <m>{10 \choose 4}</m>
            (assuming order is irrelevant).
          </li>

          <li permid="zcc">
            <p permid="Kzw">
              Neither. <m>16^{10}</m>
              (each kid chooses yes or no to 4 varieties).
            </p>
          </li>

          <li permid="fjl">
            <p permid="qGF">
              Neither. 0.
            </p>
          </li>

          <li permid="Lqu">
            <p permid="WNO">
              Neither. <m>4^{10} - [{4\choose 1}3^{10} - {4\choose 2}2^{10} + {4 \choose 3}1^{10}]</m>.
            </p>
          </li>

          <li permid="rxD">
            <p permid="CUX">
              Neither. <m>10\cdot 4</m>.
            </p>
          </li>

          <li permid="XEM">
            <p permid="jcg">
              Neither. <m>4^{10}</m>.
            </p>
          </li>

          <li permid="DLV">
            <m>{10 \choose 4}</m>
            (which is the same as <m>{10 \choose 6}</m>).
          </li>

          <li permid="jTe">
            <p permid="Pjp">
              Neither.
              If all the kids were identical,
              and you wanted no empty teams,
              it would be <m>{10 \choose 4}</m>.
              Instead, this will be the same as the number of surjective functions from a set of size 11 to a set of size 5.
            </p>
          </li>

          <li permid="Qan"><m>{10 \choose 4}</m>.</li>

          <li permid="whw"><m>{10 \choose 4}</m>.</li>

          <li permid="coF">
            <p permid="vqy">
              Neither. <m>4!</m>.
            </p>
          </li>

          <li permid="IvO">
            <p permid="bxH">
              Neither.
              It's <m>{10 \choose 4}</m> if you won't repeat any choices.
              If repetition is allowed,
              then this becomes <m>x_1 + x_2 + \cdots +x_{10} = 4</m>,
              which has <m>{13 \choose 9}</m> solutions in non-negative integers.
            </p>
          </li>

          <li permid="oCX">
            <p permid="HEQ">
              Neither.
              Since repetition of cookie type is allowed,
              the answer is <m>10^4</m>.
              Without repetition, you would have <m>P(10,4)</m>.
            </p>
          </li>

          <li permid="UKg">
            <m>{10 \choose 4}</m> since that is equal to <m>{9 \choose 4} + {9 \choose 3}</m>.
          </li>

          <li permid="ARp">
            <p permid="nLZ">
              Neither.
              It will be a complicated
              (possibly PIE)
              counting problem.
            </p>
          </li>
        </ol>
      </p>
    </solution>
  </exercise>

  <exercise permid="kKc">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("2^8");
    $ans2 = Compute("7*31");
    $ans3 = Compute("C(3,2)*C(5,3)");
    $ans4 = Compute("3*4!");</pg-code>
    </setup>
    <statement>
      <p permid="lfO">
        Recall, you own 3 regular ties and 5 bow ties.
            <idx><h>bow ties</h></idx>
        You realize that it would be okay to wear more than two ties to your clown college interview.

        <ol permid="LLT">
          <li permid="gYy">
            <p permid="TTi">
              You must select some of your ties to wear.
              Everything is okay, from no ties up to all ties.
              How many choices do you have?
            </p>

            <p permid="Aar">
              <var name="$ans1" width="5"/>
            </p>
          </li>

          <li permid="NfH">
            <p permid="ghA">
              If you want to wear at least one regular tie and one bow tie,
              but are willing to wear up to all your ties,
              how many choices do you have for which ties to wear?
            </p>

            <p permid="MoJ">
              <var name="$ans2" width="5"/>
            </p>
          </li>

          <li permid="tmQ">
            <p permid="svS">
              How many choices of which ties to wear do you have if you wear exactly 2 of the 3 regular ties and 3 of the 5 bow ties?
            </p>

            <p permid="YDb">
              <var name="$ans3" width="5"/>
            </p>
          </li>

          <li permid="ZtZ">
            <p permid="EKk">
              Once you have selected 2 regular and 3 bow ties,
              in how many orders could you put the ties on,
              assuming you must have one of the three bow ties on top?
            </p>

            <p permid="kRt">
              <var name="$ans4" width="5"/>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="DxA">
      <p permid="ZWP">
        <ol permid="Csh">
          <li permid="lIr">
            <p permid="QYC">
              <m>2^8 = 256</m> choices.
              You have two choices for each tie: wear it or don't.
            </p>
          </li>

          <li permid="RPA">
            <p permid="xfL">
              You have 7 choices for regular ties (the 8 choices less the <q>no regular tie</q>
              option) and 31 choices for bow ties (32 total minus the
              <q>no bow tie</q> option).
              Thus total you have <m>7 \cdot 31 = 217</m> choices.
            </p>
          </li>

          <li permid="xWJ">
            <p permid="dmU">
              <m>{3\choose 2}{5\choose 3} = 30</m> choices.
            </p>
          </li>

          <li permid="edS">
            <p permid="Jud">
              Select one of the 3 bow ties to go on top.
              There are then 4 choices for the next tie, 3 for the tie after that,
              and so on.
              Thus <m>3\cdot 4! = 72</m> choices.
            </p>
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="QRl">
    <statement>
      <p permid="RmX">
        Give a counting question where the answer is <m>8\cdot 3 \cdot 3 \cdot 5</m>.
        Give another question where the answer is <m>8 + 3 + 3 + 5</m>.
      </p>
    </statement>
    <solution permid="jEJ">
      <p permid="GdY">
        You own 8 purple bow ties,
            <idx><h>bow ties</h></idx>
        3 red bow ties, 3 blue bow ties and 5 green bow ties.
        How many ways can you select one of each color bow tie to take with you on a trip? <m>8 \cdot 3 \cdot 3 \cdot 5</m> ways.
        How many choices do you have for a single bow tie to wear tomorrow? <m>8 + 3 + 3 + 5</m> choices.
      </p>
    </solution>
  </exercise>

  <exercise permid="wYu">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("4^5");
    $ans2 = Compute("4^4*2");
    $ans3 = Compute("C(5,3)*2^3*2^2 + C(5,4)*2^4*2 + C(5,5)*2^5");</pg-code>
    </setup>
    <statement>
      <p permid="xug">
        Consider five digit numbers <m>\alpha = a_1a_2a_3a_4a_5</m>,
        with each digit from the set <m>\{1,2,3,4\}</m>.

        <ol permid="rTc">
          <li permid="Klb">
            <p permid="pBm">
              How many such numbers are there?
            </p>

            <p permid="VIv">
              <var name="$ans1" width="5"/>
            </p>
          </li>

          <li permid="qsk">
            <p permid="BPE">
              How many such numbers are there for which the
              <em>sum</em> of the digits is even?
            </p>

            <p permid="hWN">
              <var name="$ans2" width="5"/>
            </p>
          </li>

          <li permid="Wzt">
            <p permid="OdW">
              How many such numbers contain more even digits than odd digits?
            </p>

            <p permid="ulf">
              <var name="$ans3" width="10"/>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="PLS">
      <p permid="mlh">
        <ol permid="izq">
          <li permid="CGC">
            <p permid="aso">
              <m>4^5</m> numbers.
            </p>
          </li>

          <li permid="iNL">
            <p permid="Gzx">
              <m>4^4\cdot 2</m> numbers
              (choose any digits for the first four digits - then pick either an even or an odd last digit to make the sum even).
            </p>
          </li>

          <li permid="OUU">
            <p permid="mGG">
              We need 3 or more even digits. 3 even digits:
              <m>{5 \choose 3}2^3 2^2</m>. 4 even digits:
              <m>{5 \choose 4}2^4 2</m>. 5 even digits:
              <m>{5 \choose 5}2^5</m>.
              So all together:
              <m>{5 \choose 3}2^3 2^2 + {5 \choose 4}2^4 2 + {5 \choose 5}2^5</m> numbers.
            </p>
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="dfD">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("51");</pg-code>
    </setup>
    <statement>
      <p permid="dBp">
        In a recent small survey of airline passengers, 25 said they had flown American in the last year, 30 had flown Jet Blue,
        and 20 had flown Continental.
        Of those, 10 reported they had flown on American and Jet Blue, 12 had flown on Jet Blue and Continental,
        and 7 had flown on American and Continental. 5 passengers had flown on all three airlines.
      </p>

      <p permid="JIy">
        How many passengers were surveyed? (Assume the results above make up the entire survey.)
      </p>

      <p permid="pPH">
        <var name="$ans1" width="5"/>
      </p>
    </statement>
    <solution permid="vTb">
      <p permid="Ssq">
        51 passengers.
        We are asking for the size of the union of three non-disjoint sets.
        Using PIE, we have <m>25+30+20-10 -12-7+5 = 51</m>.
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="JmM">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("2^8");
    $ans2 = Compute("C(8,5)");</pg-code>
    </setup>
    <statement>
      <p permid="VWQ">
        Recall, by <m>8</m>-bit strings,
        we mean strings of binary digits, of length 8.

        <ol permid="Yal">
          <li permid="vcd">
            <p permid="SNP">
              How many <m>8</m>-bit strings are there total?
            </p>

            <p permid="yUY">
              <var name="$ans1" width="5"/>
            </p>
          </li>

          <li permid="bjm">
            <p permid="fch">
              How many <m>8</m>-bit strings have weight 5?
            </p>

            <p permid="Ljq">
              <var name="$ans2" width="5"/>
            </p>
          </li>

          <li permid="Hqv">
            <p permid="rqz">
              How many subsets of the set
              <m>\{a,b,c,d,e,f,g,h\}</m> contain exactly 5 elements?
            </p>

            <p permid="XxI">
              <var name="$ans2" width="5"/>
            </p>
          </li>

          <li permid="nxE">
            <p permid="DER">
              Explain why your answers to parts (b) and (c) are the same.
              Why are these questions equivalent?
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="cak">
      <p permid="yzz">
        <ol permid="OGz">
          <li permid="TEN">
            <p permid="jMa">
              <m>2^8</m> strings.
            </p>
          </li>

          <li permid="zLW">
            <p permid="PTj">
              <m>{8 \choose 5}</m> strings.
            </p>
          </li>

          <li permid="fTf">
            <p permid="was">
              <m>{8 \choose 5}</m> strings.
            </p>
          </li>

          <li permid="Mao">
            <p permid="chB">
              There is a bijection between subsets and bit strings:
              a 1 means that element in is the subset,
              a 0 means that element is not in the subset.
              To get a subset of an 8 element set we have a 8-bit string.
              To make sure the subset contains exactly 5 elements,
              there must be 5 1's, so the weight must be 5.
            </p>
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="ptV">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(13,10)+C(17,8)");</pg-code>
    </setup>
    <statement>
      <p permid="CdZ">
        What is the coefficient of <m>x^{10}</m> in the expansion of <m>(x+1)^{13} + x^2(x+1)^{17}</m>?
      </p>

      <p permid="ili">
        <var name="$ans1" width="10"/>
      </p>
    </statement>
    <solution permid="Iht">
      <p permid="eGI">
        <m>{13 \choose 10} + {17 \choose 8}</m>.
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="VBe">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(8,5*5^5*21^3)");
    $ans2 = Compute("C(8,5)* 5! * P(21,3)");</pg-code>
    </setup>
    <statement>
      <p permid="Osr">
        How many 8-letter words contain exactly 5 vowels? (One such word is <q>aaioobtt</q>;
        don't consider <q>y</q> a vowel for this exercise.)
      </p>

      <p permid="uzA">
        <var name="$ans1" width="8"/>
      </p>

      <p permid="aGJ">
        What if repeated letters were not allowed?
      </p>

      <p permid="GNS">
        <var name="$ans2" width="8"/>
      </p>
    </statement>
    <solution permid="ooC">
      <p permid="KNR">
        With repeated letters allowed,
        we select which 5 of the 8 letters will be vowels,
        then pick one of the 5 vowels for each spot,
        and finally pick one of the other 21 letters for each of the remaining 3 spots.
        Thus, <m>{8 \choose 5}5^5 21^3</m> words.
      </p>

      <p permid="qVa">
        Without repeats, we still pick the positions of the vowels,
        but now each time we place on there,
        there is one fewer choice for the next one.
        Similarly, we cannot repeat the consonants.
        We get <m>{8 \choose 5}5!
        P(21, 3)</m> words.
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="BIn">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(5,2)*C(11,6)");
    $ans2 = Compute("C(16,8) - C(12,7)*C(4,1)");
    $ans3 = Compute("C(5,2)*C(11, 6) + C(12,5)*C(4,3) - C(5,2)*C(7,3)*C(4,3)");</pg-code>
    </setup>
    <statement>
      <p permid="mVb">
        For each of the following,
        find the number of shortest lattice paths from <m>(0,0)</m> to <m>(8,8)</m> which:

        <ol permid="Ehu">
          <li permid="shx">
            <p permid="IoK">
              pass through the point <m>(2,3)</m>.
            </p>

            <p permid="ovT">
              <var name="$ans1" width="10"/>
            </p>
          </li>

          <li permid="YoG">
            <p permid="UDc">
              avoid (do not pass through) the point <m>(7,5)</m>.
            </p>

            <p permid="AKl">
              <var name="$ans2" width="10"/>
            </p>
          </li>

          <li permid="EvP">
            <p permid="gRu">
              either pass through <m>(2,3)</m> or <m>(5,7)</m>
              (or both).
            </p>

            <p permid="MYD">
              <var name="$ans3" width="15"/>
            </p>
          </li>
        </ol>
      </p>
    </statement>
          <!-- TODO: write a better solution -->
    <solution permid="UvL">
      <p permid="Xcj">
        <ol permid="uNI">
          <li permid="kCY"><m>{5 \choose 2}{11 \choose 6}</m> paths.</li>

          <li permid="QKh">
            <m>{16 \choose 8} - {12 \choose 7}{4 \choose 1}</m> paths.
          </li>

          <li permid="wRq">
            <m>{5 \choose 2}{11 \choose 6} + {12 \choose 5}{4 \choose 3} - {5 \choose 2}{7 \choose 3}{4 \choose 3}</m> paths.
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="hPw">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(18,8)*(C(18,8) - 1)");</pg-code>
    </setup>
    <statement>
      <p permid="Tck">
        You live in Grid-Town on the corner of 2nd and 3rd,
        and work in a building on the corner of 10th and 13th.
        How many routes are there which take you from home to work and then back home,
        but by a different route?
      </p>

      <p permid="zjt">
        <var name="$ans1" width="10"/>
      </p>
    </statement>
    <solution permid="ACU">
      <p permid="Djs">
        <m>{18 \choose 8}\left({18 \choose 8} - 1\right)</m> routes.
        For each of the <m>\binom{18}{8}</m> routes to work there is exactly one less route back.
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="NWF">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("2^7 + 2^7 - 2^4");</pg-code>
    </setup>
    <statement>
      <p permid="fqC">
        How many 10-bit strings start with <m>111</m> or end with <m>101</m> or both?
      </p>

      <p permid="LxL">
        <var name="$ans1" width="10"/>
      </p>
    </statement>
    <solution permid="gKd">
      <p permid="jqB">
        <m>2^7 + 2^7 - 2^4</m> strings
        (using PIE).
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="udO">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(7,3) + C(7,4) - C(4,1)");</pg-code>
    </setup>
    <statement>
      <p permid="rEU">
        How many 10-bit strings of weight 6 start with <m>111</m> or end with <m>101</m> or both?
      </p>

      <p permid="XMd">
        <var name="$ans1" width="10"/>
      </p>
    </statement>
    <solution permid="MRm">
      <p permid="PxK">
        <m>{7 \choose 3} + {7 \choose 4} - {4 \choose 1}</m> strings.
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="akX">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("6! - 4*3!");
    $ans2 = Compute("6! - C(6,3)*3!");</pg-code>
    </setup>
    <statement>
      <p permid="DTm">
        How many 6 letter words made from the letters
        <m>a,b,c,d,e,f</m> without repeats do not contain the sub-word
        <q>bad</q> in consecutive letters?
      </p>

      <p permid="kav">
        <var name="$ans1" width="5"/>
      </p>

      <p permid="QhE">
        How many don't to contain the subword <q>bad</q>
        in not-necessarily consecutive letters (but in order)?
      </p>

      <p permid="woN">
        <var name="$ans2" width="5"/>
      </p>
    </statement>
    <solution permid="sYv">
      <p permid="vET">
        There are 4 spots to start the word,
        and then there are <m>3!</m> ways to arrange the other letters in the remaining three spots.
        Thus the number of words avoiding the sub-word <q>bad</q>
        in consecutive letters is <m>6! - 4\cdot 3!</m>.
      </p>

      <p permid="bMc">
        If we now need to avoid words that put <q>b</q>
        before <q>a</q> before <q>d</q>,
        we must choose which spots those letters go
        (in that order)
        and then arrange the remaining three letters.
        Thus, <m>6! - {6 \choose 3}3!</m> words.
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="Gsg">
    <statement>
      <p permid="cvW">
        Explain using lattice paths why <m>\sum_{k=0}^n {n \choose k} = 2^n</m>.
      </p>
    </statement>
    <solution permid="ZfE">
      <p permid="HTl">
        <m>2^n</m> is the number of lattice paths which have length <m>n</m>,
        since for each step you can go up or right.
        Such a path would end along the line <m>x + y = n</m>.
        So you will end at <m>(0,n)</m>,
        or <m>(1,n-1)</m> or <m>(2, n-2)</m> or
        <ellipsis/> or <m>(n,0)</m>.
        Counting the paths to each of these points separately,
        give <m>{n \choose 0}</m>,
        <m>{n \choose 1}</m>, <m>{n \choose 2}</m>,
        <ellipsis/>, <m>{n \choose n}</m>
        (each time choosing which of the <m>n</m> steps to be to the right).
        These two methods count the same quantity, so are equal.
      </p>
    </solution>
  </exercise>

  <exercise permid="mzp">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(19,15)");
    $ans2 = Compute("C(24,20)");
    $ans3 = Compute("C(19,15) - (C(5,1)*C(12,8) - C(5,2)*C(5,1))");
    $showHint = 0;
    $showSolution = 3;</pg-code>
    </setup>
    <statement>
      <p permid="IDf">
        Suppose you have 20 one-dollar bills to give out as prizes to your top 5 discrete math students.
        How many ways can you do this if:

        <ol permid="koD">
          <li permid="cYz">
            <p permid="tfM">
              Each of the 5 students gets at least 1 dollar?
            </p>

            <p permid="ZmV">
              <var name="$ans1" width="5"/>
            </p>
          </li>

          <li permid="JfI">
            <p permid="Fue">
              Some students might get nothing?
            </p>

            <p permid="lBn">
              <var name="$ans2" width="5"/>
            </p>
          </li>

          <li permid="pmR">
            <p permid="RIw">
              Each student gets at least 1 dollar but no more than 7 dollars?
            </p>

            <p permid="xPF">
              <var name="$ans3" width="15"/>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <hint permid="ltW">
      <p permid="sKn">
        Stars and bars.
      </p>
    </hint>
          <!-- TODO: add to the solution -->
    <solution permid="FmN">
      <p permid="oau">
        <ol permid="aUR">
          <li permid="Vua"><m>{19 \choose 15}</m> ways.</li>

          <li permid="BBj"><m>{24 \choose 20}</m> ways.</li>

          <li permid="hIs">
            <m>{19 \choose 15} - \left[{5 \choose 1}{12 \choose 8} - {5 \choose 2}{5 \choose 1} \right]</m> ways.
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="SGy">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("5^4 + 5^4 - 5^3");
    $ans2 = Compute("4*5^4 + 5*4*5^3 - 4*4*5^3");
    $ans3 = Compute("5! - (4! + 4! - 3!)");
    $ans4 = Compute("5! - (C(5,1)*4! - C(5,2)*3! + C(5,3)*2! - C(5,4)*1! + C(5,5)*0!)");</pg-code>
    </setup>
    <statement>
      <p permid="oKo">
        How many functions <m>f: \{1,2,3,4,5\} \to \{a,b,c,d,e\}</m> are there satisfying:

        <ol permid="QvM">
          <li permid="NPB">
            <p permid="dWO">
              <m>f(1) = a</m> or <m>f(2) = b</m> (or both)?
            </p>

            <p permid="KdX">
              <var name="$ans1" width="10"/>
            </p>
          </li>

          <li permid="tWK">
            <p permid="qlg">
              <m>f(1) \ne a</m> or <m>f(2) \ne b</m> (or both)?
            </p>

            <p permid="Wsp">
              <var name="$ans2" width="10"/>
            </p>
          </li>

          <li permid="adT">
            <p permid="Czy">
              <m>f(1) \ne a</m> <em> and</em> <m>f(2) \ne b</m>,
              and <m>f</m> is injective?
            </p>

            <p permid="iGH">
              <var name="$ans3" width="10"/>
            </p>
          </li>

          <li permid="Glc">
            <p permid="ONQ">
              <m>f</m> is surjective, but <m>f(1) \ne a</m>, <m>f(2) \ne b</m>,
              <m>f(3) \ne c</m>, <m>f(4) \ne d</m> and <m>f(5) \ne e</m>?
            </p>

            <p permid="uUZ">
              <var name="$ans4" width="15"/>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="RBf">
      <p permid="UhD">
        <ol permid="Hca">
          <li permid="msl">
            <p permid="bci">
              <m>5^4 + 5^4 - 5^3</m> functions.
            </p>
          </li>

          <li permid="Szu">
            <p permid="Hjr">
              <m>4\cdot 5^4 + 5 \cdot 4 \cdot 5^3 - 4 \cdot 4 \cdot 5^3</m> functions.
            </p>
          </li>

          <li permid="yGD">
            <p permid="nqA">
              <m>5! - \left[ 4! + 4! - 3! \right]</m> functions.
              Note we use factorials instead of powers because we are looking for injective functions.
            </p>
          </li>

          <li permid="eNM">
            <p permid="TxJ">
              Note that being surjective here is the same as being injective,
              so we can start with all <m>5!</m> injective functions and subtract those which have one or more <q>fixed point</q>.
              We get <m>5! - \left[{5 \choose 1}4! - {5 \choose 2}3! + {5 \choose 3}2! - {5 \choose 4}1! + {5 \choose 5} 0!\right]</m> functions.
            </p>
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="yNH">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("4^6 - (C(4,1)*3^6 - C(4,2)*2^6 + C(4,3)*1^6)");</pg-code>
    </setup>
    <statement>
      <p permid="URx">
        How many functions map <m>\{1,2,3,4,5,6\}</m> <em>onto</em>
        <m>\{a,b,c,d\}</m> (i.e., how many
        <em>surjections</em> are there)?
      </p>

      <p permid="AYG">
        <var name="$ans1" width="15"/>
      </p>
    </statement>
    <solution permid="xIo">
      <p permid="AoM">
        <m>4^6 - \left[{4 \choose 1}3^6 - {4 \choose 2}2^6 + {4 \choose 3} 1^6 \right]</m>.
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="eUQ" xml:id="exr_cookie-counting">
    <webwork>
    <pg-macros><macro-file>contextIntegerFunctions.pl</macro-file></pg-macros>
    <setup>
    <pg-code>Context("IntegerFunctions");
    $ans1 = Compute("C(12,4)");
    $ans2 = Compute("P(12,4)");
    $ans3 = Compute("C(21,12)");
    $ans4 = Compute("10^12");
    $ans5 = Compute("6187104000");</pg-code>
    </setup>
    <statement>
      <p permid="hfP">
        To thank your math professor for doing such an amazing job all semester,
        you decide to bake Oscar cookies.
        You know how to make 10 different types of cookies.

        <ol permid="wCV">
          <li permid="KUV">
            <p permid="zES">
              If you want to give your professor 4 different types of cookies,
              how many different combinations of cookie type can you select?
              Explain your answer.
            </p>

            <p permid="fMb">
              <var name="$ans1" width="5"/>
            </p>
          </li>

          <li permid="rce">
            <p permid="LTk">
              To keep things interesting,
              you decide to make a different number of each type of cookie.
              If again you want to select 4 cookie types,
              how many ways can you select the cookie types and decide for which there will be the most,
              second most, etc.
              Explain your answer.
            </p>

            <p permid="sat">
              <var name="$ans2" width="5"/>
            </p>
          </li>

          <li permid="Xjn">
            <p permid="YhC">
              You change your mind again.
              This time you decide you will make a total of 12 cookies.
              Each cookie could be any one of the 10 types of cookies you know how to bake
              (and it's okay if you leave some types out).
              How many choices do you have?
              Explain.
            </p>

            <p permid="EoL">
              <var name="$ans3" width="5"/>
            </p>
          </li>

          <li permid="Dqw">
            <p permid="kvU">
              You realize that the previous plan did not account for presentation.
              This time, you once again want to make 12 cookies,
              each one could be any one of the 10 types of cookies.
              However, now you plan to shape the cookies into the numerals 1, 2, <ellipsis/>, 12
              (and probably arrange them to make a giant clock,
              but you haven't decided on that yet).
              How many choices do you have for which types of cookies to bake into which numerals?
              Explain.
            </p>

            <p permid="QDd">
              <var name="$ans4" width="5"/>
            </p>
          </li>

          <li permid="jxF">
            <p permid="wKm">
              The only flaw with the last plan is that your professor might not get to sample all 10 different varieties of cookies.
              How many choices do you have for which types of cookies to make into which numerals,
              given that each type of cookie should be present at least once?
              Explain.
            </p>

            <p permid="cRv">
              <var name="$ans5" width="15"/>
            </p>
          </li>
        </ol>
      </p>
    </statement>
    <solution permid="dPx">
      <p permid="gvV">
        <ol permid="njj">
          <li permid="PEO">
            <m>{10 \choose 4}</m> combinations.
            You need to choose 4 of the 10 cookie types.
            Order doesn't matter.
          </li>

          <li permid="vLX">
            <m>P(10, 4) = 10 \cdot 9 \cdot 8 \cdot 7</m> ways.
            You are choosing and arranging 4 out of 10 cookies.
            Order matters now.
          </li>

          <li permid="bTg">
            <m>{21 \choose 12}</m> choices.
            You must switch between cookie type 9 times as you make your 12 cookies.
            The cookies are the stars, the switches between cookie types are the bars.
          </li>

          <li permid="Iap">
            <m>10^{12}</m> choices.
            You have 10 choices for the <q>1</q>
            cookie, 10 choices for the <q>2</q> cookie, and so on.
          </li>

          <li permid="ohy">
            <m>10^{12} - \left[{10 \choose 1}9^{12} - {10 \choose 2}8^{12} + \cdots - {10 \choose 10}0^{12} \right]</m> choices.
            We must use PIE to remove all the ways in which one or more cookie type is not selected.
          </li>
        </ol>
      </p>
    </solution></webwork>
  </exercise>

  <exercise permid="LbZ">
    <statement>
      <p permid="NmY">
        For which of the parts of the previous problem
        (<xref ref="exr_cookie-counting"/>)
        does it make sense to interpret the counting question as counting some number of functions?
        Say what the domain and codomain should be,
        and whether you are counting all functions, injections,
        surjections, or something else.
      </p>
    </statement>
    <solution permid="JWG">
      <p permid="MDe">
        <ol permid="Tqs">
          <li permid="UoH">
            <p permid="IYE">
              You are giving your professor 4 types of cookies coming from 10 different types of cookies.
              This does not lend itself well to a function interpretation.
              We <em>could</em> say that the domain contains the 4 types you will give your professor and the codomain contains the 10 you can choose from,
              but then counting injections would be too much
              (it doesn't matter if you pick type 3 first and type 2 second,
              or the other way around, just that you pick those two types).
            </p>
          </li>

          <li permid="AvQ">
            <p permid="pfN">
              We want to consider injective functions from the set <m>\{</m>most,
              second most,
              second least, least<m>\}</m> to the set of 10 cookie types.
              We want injections because we cannot pick the same type of cookie to give most and least of
              (for example).
            </p>
          </li>

          <li permid="gCZ">
            <p permid="VmW">
              This is not a good problem to interpret as a function.
              The problem is that the domain would have to be the 12 cookies you bake,
              but these elements are indistinguishable
              (there is not a first cookie, second cookie, etc.).
            </p>
          </li>

          <li permid="MKi">
            <p permid="Buf">
              The domain should be the 12 shapes,
              the codomain the 10 types of cookies.
              Since we can use the same type for different shapes,
              we are interested in counting all functions here.
            </p>
          </li>

          <li permid="sRr">
            <p permid="hBo">
              Here we insist that each type of cookie be given at least once,
              so now we are asking for the number of surjections of those functions counted in the previous part.
            </p>
          </li>
        </ol>
      </p>
    </solution>
  </exercise>

</exercises>
