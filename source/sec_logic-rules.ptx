<?xml version="1.0" encoding="UTF-8"?>

<section xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="sec_logic-rules">
	<title>Rules of Logic</title>

	<objectives>
		<introduction>
			<p>
				After completing this section, you should be able to do the following.
			</p>
		</introduction>

		<ol>
			<li>
				<p>
					Use truth tables to determine whether two statements are logically equivalent.
				</p>
			</li>

			<li>
				<p>
					Use truth tables to determine whether a deduction rule is valid.
				</p>
			</li>

			<li>
				<p>
					Use logical equivalence and deduction rules to simplify statements and make deductions.
				</p>
			</li>
		</ol>
	</objectives>
	
	<subsection>
		<title>Section Preview</title>

		<investigation>
			<p>
				Holmes always wears one of the two vests he owns: one tweed and one mint green.
				He always wears either the green vest or red shoes.
				Whenever he wears a purple shirt and the green vest, he chooses to not wear a bow tie.
				He never wears the green vest unless he is also wearing either a purple shirt or red shoes.
				Whenever he wears red shoes, he also wears a purple shirt.
				Today, Holmes wore a bow tie.
				What else did he wear?
			</p>
		</investigation>

		<exercise label="ip_sec_logic-prop">
			<statement>
				<p>
					Spend a few minutes thinking about the <em>Investigate!</em> question above.
					Of the six statements in the puzzle, only one is atomic.
					Use this atomic statement and one other statement to deduce a new statement about what Holmes might (or might not) be wearing.
					Explain why you think your new statement is true.
				</p>
			</statement>
			<response />
			<hint>
				<p>
					The atomic statement is, <q>Holmes wore a bow tie.</q>  Only one of the molecular statements has this as one of its <em>atoms</em>.
				</p>
			</hint>
		</exercise>

		<p>
			Logic studies the ways statements can interact with each other.
			More precisely, we consider the way the logical form statements can interact.
			The study of logic does not care about the content of the atomic statements or the meaning of predicates.
			For example, the claims, <q>If spiders have six legs, then Sam walks with a limp,</q> and, <q>If the moon is made of cheese, then cheddar is a type of cheese,</q> are identical from a logical perspective.
			Logic doesn't care about whether Sam is a spider or the culinary makeup of the moon.
			Both statements have the same form: They are implications, <m>P \imp Q</m>.
		</p>

		<p>
			Of course, in mathematics we often <em>do</em> know some relationship between various atomic statements.
			For example, we know a relationship between being even and being a multiple of 10.
			That relationship allows us to make claims such as, <q>If the number I'm thinking of is a multiple of 10, then it is even.</q>  Suppose I also told you that I am now thinking of a number that is not even.
			We can deduce that I am not thinking of a multiple of 10! Crucially, if we accept the truth of the statements here, we can make this deduction without thinking about the nature of numbers.
			It can feel very liberating and provide much-needed clarity when trying to understand complicated reasoning if we can separate the content from the logical form of arguments.
		</p>

		<p>
			Our goal in this section is to establish some procedures for analyzing how the truth or falsity of statements interact, based on their logical form.
			We will see that some molecular statements must be true regardless of whether their atomic parts are true or false, while some statements must always be false.
			For other statements, it can be that two statements are always true or false together, or that whenever one statement is true, another statement must also be true.
		</p>

		<p>
			The main method for establishing these relationships will be <term>truth tables</term>.
			There is a very clear procedure for constructing and analyzing truth tables, but for complicated arguments that contain many atomic statements, the truth tables become very large and unwieldy.
			We will therefore use truth tables to understand some basic equivalences and deductions that can be applied in a sequence of reasoning to construct larger arguments.
		</p>



		<worksheet xml:id="PA-logic-prop">
		<title>Preview Activity</title>

		<!-- <introduction>
			<p>
				Before reading on to the main content of the section, complete this preview activity to start thinking about the types of questions this section will address.
			</p>
		</introduction> -->

		<exercise label="pa_logic-prop-translate">
			<statement>
				<p>
					Consider the statement, <q>Whenever Holmes wears a purple shirt and the green vest, he chooses to not wear a bow tie.</q>  Let <m>P</m> be the statement, <q>Holmes wears a purple shirt,</q> <m>G</m> be the statement, <q>Holmes wears the green vest,</q> and <m>B</m> be the statement, <q>Holmes wears a bow tie.</q>  Which of the following is the best translation of the statement into propositional logic?
				</p>
			</statement>


			<choices randomize="yes">
				<choice correct="yes">
					<statement>
						<p>
							<m> (P \wedge G) \imp \neg B </m>
						</p>
					</statement>
				</choice>

				<choice>
					<statement>
						<p>
							<m> (P \wedge G) \imp B </m>
						</p>
					</statement>
				</choice>

				<choice>
					<statement>
						<p>
							<m> (P \vee G) \imp \neg B </m>
						</p>
					</statement>
				</choice>

				<choice>
					<statement>
						<p>
							<m> P \wedge (G \imp B) </m>
						</p>
					</statement>
				</choice>
			</choices>
		</exercise>

		<exercise label="pa_logic-prop-translate-2">
			<statement>
				<p>
					Consider the statement, <q>Holmes never wears the green vest unless he is also wearing either a purple shirt or red shoes.</q> With <m>P</m> and <m>G</m> as in the previous question, and <m>R</m> being the statement, <q>Holmes wears red shoes,</q> which of the following is the best translation of the statement into propositional logic?
				</p>
			</statement>


			<choices randomize="yes">
				<choice correct="yes">
					<statement>
						<p>
							<m> G \imp (P \vee R) </m>
						</p>
					</statement>
				</choice>

				<choice>
					<statement>
						<p>
							<m> \neg G \imp (P \vee R) </m>
						</p>
					</statement>

					<feedback>
						<p>
							Consider the case where Holmes does wear a green vest but does not wear a purple shirt or red shoes.
							That would make <m>\neg G</m> false and <m>P \vee R</m> true, so the implication would be true.
							But in this situation, the original statement would be false.
						</p>
					</feedback>
				</choice>

				<choice>
					<statement>
						<p>
							<m> (P \vee R) \imp G </m>
						</p>
					</statement>

					<feedback>
						<p>
							Consider the case where Holmes does not wear a purple shirt or red shoes, and does wear the green vest.
							That would make <m>P \vee R</m> false and <m>G</m> true, so the implication would be true.
							But in this situation, the original statement would be false.
						</p>
					</feedback>
				</choice>

				<choice>
					<statement>
						<p>
							<m> (P \vee R) \imp \neg G </m>
						</p>
					</statement>

					<feedback>
						<p>
							Consider the case where Holmes does not wear a purple shirt or red shoes, and does wear the green vest.
							That would make <m>P \vee R</m> false and <m>\neg G</m> false, so the implication would be true.
							But in this situation, the original statement would be false.
						</p>
					</feedback>
				</choice>
			</choices>
		</exercise>

		<exercise label="pa_logic-prop-equiv">
			<statement>
				<p>
					Consider the statement, <q>If you major in math, then you will get a high-paying job,</q> and the statement, <q>Either you don't major in math, or you will get a high-paying job.</q>  In which of the following cases are <em>both</em> statements true? Select all that apply.
				</p>
			</statement>


			<choices randomize="no">
				<choice correct="yes">
					<statement>
						<p>
							You major in math and get a high-paying job.
						</p>
					</statement>
				</choice>

				<choice>
					<statement>
						<p>
							You major in math and don't get a high-paying job.
						</p>
					</statement>

					<feedback>
						<p>
							In fact, in this case, both of the statements are false.
						</p>
					</feedback>
				</choice>

				<choice correct="yes">
					<statement>
						<p>
							You don't major in math and do get a high-paying job.
						</p>
					</statement>

					<feedback>
						<p>
							This makes the implication true because the <em>if</em> part is false.
							The disjunction is true because the first part is true.
						</p>
					</feedback>
				</choice>

				<choice correct="yes">
					<statement>
						<p>
							You don't major in math and don't get a high-paying job.
						</p>
					</statement>
				</choice>
			</choices>
		</exercise>
	</worksheet>
	</subsection>


	<subsection>
		<title>Truth Tables</title>

		<idx><h>truth table</h> </idx>
		<p>
			Here's a question about playing Monopoly:
		</p>

		<blockquote>
			<p>
				If you get more doubles than any other player, then you will lose, or if you lose, then you must have bought the most properties.
			</p>
		</blockquote>

		<p>
			True or false? We will answer this question and won't need to know anything about Monopoly.
			Instead, we will look at the logical <em>form</em> of the statement.
		</p>

		<p>
			We need to decide when the statement <m>(P \imp Q) \vee (Q \imp R)</m> is true.
			Using the definitions of the connectives in <xref ref="def-connectives-truth" />, we see that for this to be true, either <m>P \imp Q</m> must be true or <m>Q \imp R</m> must be true (or both).
			Those are true if either <m>P</m> is false or <m>Q</m> is true (in the first case) and <m>Q</m> is false or <m>R</m> is true (in the second case).
			So<mdash />yeah, it gets a bit messy.
			Luckily, we can make a chart to keep track of all the possibilities with a <term>truth table</term>.
		</p>

		<p>
			The idea is this: On each row, we list a possible combination of T's and F's (Trues and Falses) for each of the propositional variables, and then mark down whether the (molecular) statement in question is true or false in that case.
			We do this for every possible combination of T's and F's.
			Then we can clearly see the cases in which the statement is true or false.
			For complicated statements, we will first fill in values for each part of the statement, as a way of breaking up our task into smaller, more manageable pieces.
		</p>

		<p>
			Since the truth value of a statement is completely determined by the truth values of its parts and how they are connected, all you need to know is the truth tables for each of the logical connectives, which we have already seen in <xref ref="fig-truth-tables"/>
		</p>

		<p>
			The truth tables we consider here all build off the basic ones, applying the basic rules multiple times.
		</p>

		<example xml:id="ex-imp-disj">
			<statement>
				<p>
					Make a truth table for the statement <m>\neg P \vee Q</m>.
				</p>
			</statement>

			<solution>
				<p>
					<idx><h>main connective</h></idx>
					Note that this statement is not <m>\neg(P \vee Q)</m>; the negation belongs to <m>P</m> alone.
					The <term>main connective</term> here is the <m>\vee</m>, which means we will use that truth table <em>last</em>.
					First, we apply the truth table for <m>\neg</m>, and then apply the truth table for <m>\vee</m> using <q>inputs</q> from <m>\neg P</m> and <m>Q</m>.
				</p>

				<p>
					Since there are two variables, there are four possible combinations of T's and F's.
					Putting this all together gives us the following truth table.
				</p>

					<tabular halign="center">
						<col right="minor" /> <col right="medium" /> <col right="minor" /> <col />
						<row bottom="minor">
							<cell><m>P</m> </cell>
							<cell><m>Q</m> </cell>
							<cell><m>\neg P</m> </cell>
							<cell><m>\neg P \vee Q</m> </cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell> T</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell>F</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell> F</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>
					</tabular>

				<p>
					We added a column for <m>\neg P</m> to make filling out the last column easier.
					The entries in the <m>\neg P</m> column were determined by the entries in the <m>P</m> column.
					Then to fill in the final column, look only at the column for <m>Q</m> and the column for <m>\neg P</m> and use the rule for <m>\vee</m>.
				</p>
			</solution>
		</example>

		<p>
			Now let's answer our question about Monopoly.
		</p>

		<example>
			<statement>
				<p>
					Analyze the statement, <q>If you get more doubles than any other player, then you will lose, or if you lose, then you must have bought the most properties,</q> using truth tables.
				</p>
			</statement>

			<solution>
				<p>
					Represent the statement in symbols as <m>(P \imp Q) \vee (Q \imp R)</m>, where <m>P</m> is the statement, <q>You get more doubles than any other player,</q> <m>Q</m> is the statement, <q>You will lose,</q> and <m>R</m> is the statement, <q>You must have bought the most properties.</q> Now make a truth table.
				</p>

				<p>
					The truth table must contain 8 rows to account for every possible combination of truth and falsity among the three statements.
					Here is the full truth table:
				</p>

					<tabular halign="center">
						<col right="minor" /> <col right="minor" /> <col right="medium" /> <col right="minor" /> <col right="minor" /> <col />
						<row bottom="minor">
							<cell><m>P</m> </cell>
							<cell><m>Q</m> </cell>
							<cell><m>R</m> </cell>
							<cell><m>P \imp Q</m> </cell>
							<cell><m>Q \imp R</m> </cell>
							<cell><m>(P \imp Q) \vee (Q \imp R)</m> </cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell> T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell> T</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell> F</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell> F</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell> T</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>
					</tabular>

				<p>
					The first three columns are simply a systematic listing of all possible combinations of T and F for the three statements (do you see how you would list the 16 possible combinations for four statements?).
					The next two columns are determined by the values of <m>P</m>, <m>Q</m>, and <m>R</m> and the definition of implication.
					Then, the last column is determined by the values in the previous two columns and the definition of <m>\vee</m>.
					It is this final column we care about.
				</p>

				<p>
					Notice that in each of the eight possible cases, the statement in question is true.
					So our statement about monopoly is true (regardless of how many properties you own, how many doubles you roll, or whether you win or lose).
				</p>
			</solution>
		</example>

		<p>
			<idx><h>tautology</h> </idx>
			The statement about monopoly is an example of a <term>tautology</term>,
			a statement that is necessarily true based on its logical form alone.
			Tautologies are always true, but they don't tell us much about the world.
			No knowledge about monopoly was required to determine that the statement was true, and thus knowing that the statement is true tells us nothing about monopoly.
			It is equally true that <q>if the moon is made of cheese, then Elvis is still alive, or if Elvis is still alive, then unicorns have 5 legs.</q>
		</p>
	</subsection>


	<subsection>
		<title>Logical Equivalence</title>

		<p>
			You might have noticed in <xref ref="ex-imp-disj" /> that the final column in the truth table for <m>\neg P \vee Q</m> is identical to the final column in the truth table for <m>P \imp Q</m>:
		</p>

			<tabular halign="center">
				<col right="minor" /> <col right="medium" /> <col right="minor" /> <col />
				<row bottom="minor">
					<cell><m>P</m> </cell>
					<cell><m>Q</m> </cell>
					<cell><m>P \imp Q</m> </cell>
					<cell><m>\neg P \vee Q</m> </cell>
				</row>

				<row>
					<cell>T</cell>
					<cell>T</cell>
					<cell>T</cell>
					<cell>T</cell>
				</row>

				<row>
					<cell>T</cell>
					<cell> F</cell>
					<cell>F</cell>
					<cell>F</cell>
				</row>

				<row>
					<cell>F</cell>
					<cell>T</cell>
					<cell>T</cell>
					<cell>T</cell>
				</row>

				<row>
					<cell>F</cell>
					<cell> F</cell>
					<cell>T</cell>
					<cell>T</cell>
				</row>
			</tabular>

		<p>
			This says that no matter what <m>P</m> and <m>Q</m> are, the statements <m>\neg P \vee Q</m> and <m>P \imp Q</m> are either both true or both false.
			We therefore say these statements are <term>logically equivalent</term>.
		</p>

		<definition>
			<title>Logical Equivalence</title>

			<idx><h>logical equivalence</h> </idx>
			<statement>
				<p>
					Two (molecular) statements <m>P</m> and <m>Q</m> are <term>logically equivalent</term>  provided <m>P</m> is true precisely when <m>Q</m> is true.
					That is, <m> P</m> and <m>Q</m> have the same truth value under any assignment of truth values to their atomic parts.
				</p>

				<p>
					We write this as <m>P \equiv Q</m>.
				</p>
			</statement>
		</definition>

		<p>
			To verify that two statements are logically equivalent, you can make a truth table for each and check whether the columns for the two statements are identical.
		</p>

		<p>
			In <xref ref="sec_logic-implications"/> we claimed that whenever an implication is true, so is its contrapositive.
			We can now make this claim as the following theorem.
		</p>

		<theorem xml:id="thm-contrapositive">
			<statement>
				<p>
					An implication is logically equivalent to its contrapositive.
					That is,
					<me>
						P \imp Q \equiv \neg Q \imp \neg P
					</me>.
				</p>
			</statement>


			<proof>
				<p>
					We simply examine the truth tables.
				</p>

				<sidebyside>
					<tabular halign="center">
						<col right="minor" /> <col right="medium" /> <col/>
						<row bottom="minor">
							<cell><m>P</m></cell>
							<cell><m>Q</m></cell>
							<cell><m>P \imp Q</m></cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>F</cell>
							<cell>F</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>F</cell>
							<cell>T</cell>
						</row>
					</tabular>

					<tabular halign="center">
						<col right="minor" /> <col right="medium" /><col right="minor" /><col right="minor" /><col/>
						<row bottom="minor">
							<cell><m>P</m></cell>
							<cell><m>Q</m></cell>
							<cell><m>\neg Q</m></cell>
							<cell><m>\neg P</m></cell>
							<cell><m>\neg Q \imp \neg P</m></cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>F</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>
					</tabular>
				</sidebyside>
				<p>
					
					(Note that we have the truth value combinations in the same order in both tables, so we can easily see that the final columns are identical.)
				</p>
			</proof>
		</theorem>

		<p>
			Recognizing two statements as logically equivalent can be quite helpful.
			Rephrasing a mathematical statement can often lend insight into what it is saying, or how to prove or refute it.
			By using truth tables we can systematically verify that two statements are indeed logically equivalent.
		</p>

		<example>
			<statement>
				<p>
					Are the statements, <q>It will not rain or snow,</q> and, <q>It will not rain and it will not snow,</q> logically equivalent?
				</p>
			</statement>

			<solution>
				<p>
					We want to know whether <m>\neg(P \vee Q)</m> is logically equivalent to <m>\neg P \wedge \neg Q</m>.
					Make a truth table which includes both statements:
				</p>

					<tabular halign="center">
						<col right="minor" /> <col right="medium" /> <col right="minor" /> <col />
						<row bottom="minor">
							<cell><m>P</m> </cell>
							<cell><m>Q</m> </cell>
							<cell><m>\neg(P \vee Q)</m> </cell>
							<cell><m>\neg P \wedge \neg Q</m> </cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell> F</cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell>F</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell> T</cell>
							<cell>F</cell>
							<cell>F</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>
					</tabular>

				<p>
					Since the truth values for the two statements are equal in every row, the two statements are logically equivalent.
				</p>
			</solution>
		</example>

		<p>
			Notice that this example gives us a way to <q>distribute</q> a negation over a disjunction (an <q>or</q>).
			We have a similar rule for distributing over conjunctions (<q>and</q>s):
		</p>

		<theorem>
			<title>De Morgan's Laws</title>

			<idx><h>De Morgan's laws</h> </idx>
			<statement>
				<p>
					The negation of a disjunction or conjunction is logically equivalent to a conjunction or disjunction of negations, respectively.
					That is,
					<me>
						\neg(P \wedge Q) \equiv \neg P \vee \neg Q
					</me>
					and,
					<me>
						\neg(P \vee Q) \equiv \neg P \wedge \neg Q
					</me>.
				</p>
			</statement>
		</theorem>

		<p>
			This suggests there might be a sort of <q>algebra</q> you could apply to statements (okay, there is: It is called <em>Boolean algebra</em>) to transform one statement into another.
			We can start collecting useful examples of logical equivalence and apply them in succession to a statement, instead of writing out a complicated truth table.
		</p>

		<p>
			De Morgan's laws do not directly help us with implications, but as we saw above, every implication can be written as a disjunction:
		</p>

		<assemblage xml:id="assemblage-imp-disj">
			<title>Implications are Disjunctions</title>

			<idx><h>implication</h><h>equivalent disjunction</h> </idx>
			<idx><h>disjunction</h><h>equivalent implication</h> </idx>
			<p>
				<me>
					P \imp Q \equiv \neg P \vee Q
				</me>.
			</p>

			<p>
				Example: <q>If a number is a multiple of 4, then it is even</q> is equivalent to, <q>A number is not a multiple of 4, or (else) it is even.</q>
			</p>
		</assemblage>

		<p>
			With this and De Morgan's laws, you can take any statement and <em>simplify</em> it to the point where negations are only being applied to atomic propositions.
			Well, except that you could get multiple negations stacked up.
			But this can be easily dealt with:
		</p>

		<assemblage>
			<title>Double Negation</title>

			<p>
				<idx><h>double negation</h> </idx>
				<me>
					\neg \neg P \equiv P
				</me>.
			</p>

			<p>
				Example: <q>It is not the case that <m>c</m> is not odd</q> means <q><m>c</m> is odd.</q>
			</p>
		</assemblage>

		<p>
			Let's see how we can apply the equivalences we have encountered.
		</p>

		<example>
			<statement>
				<p>
					Prove that the statements <m>\neg(P \imp Q)</m> and <m>P\wedge \neg Q</m> are logically equivalent without using truth tables.
				</p>
			</statement>

			<solution>
				<p>
					We want to start with one of the statements and transform it into the other through a sequence of logically equivalent statements.
					Start with <m>\neg(P \imp Q)</m>.
					We can rewrite the implication as a disjunction, so this is logically equivalent to
					<me>
						\neg(\neg P \vee Q)
					</me>.
					Now apply De Morgan's law to get
					<me>
						\neg\neg P \wedge \neg Q
					</me>.
					Finally, use double negation to arrive at <m>P \wedge \neg Q</m>
				</p>
			</solution>
		</example>

		<p>
			Notice that the above example illustrates that the negation of an implication is NOT an implication: It is a conjunction! We saw this before, in <xref ref="sec_logic-statements" />, but it is so important and useful, it warrants stating as a theorem.
		</p>

		<theorem xml:id="thm-neg-imp">
			<title>Negation of an Implication</title>

			<statement>
				<p>
					The negation of an implication is a conjunction:
					<me>
						\neg(P \imp Q) \equiv P \wedge \neg Q
					</me>.
					That is, the only way for an implication to be false is for the hypothesis to be true <alert>AND</alert> the conclusion to be false.
				</p>
			</statement>
		</theorem>

		<p>
			To verify that two statements are logically equivalent, you can use truth tables or a sequence of logically equivalent replacements.
			The truth table method, although cumbersome, has the advantage that it can verify that two statements are NOT logically equivalent.
		</p>

		<example>
			<statement>
				<p>
					Are the statements <m>(P \vee Q) \imp R</m> and <m>(P \imp R) \vee (Q \imp R)</m> logically equivalent?
				</p>
			</statement>

			<solution>
				<p>
					Note that while we could start rewriting these statements with logically equivalent replacements in the hopes of transforming one into another, we will never be sure that our failure is due to their lack of logical equivalence rather than our lack of imagination.
					So instead, let's make a truth table:
				</p>

					<tabular halign="center">
						<col right="minor" /> <col right="minor" /> <col right="medium" /> <col right="minor" /> <col />
						<row bottom="minor">
							<cell><m>P</m> </cell>
							<cell><m>Q</m> </cell>
							<cell><m>R</m> </cell>
							<cell><m>(P\vee Q) \imp R</m> </cell>
							<cell><m>(P\imp R) \vee (Q \imp R)</m> </cell>
						</row>

						<row>
							<cell> T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell> F</cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell> T</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell> T</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell> F</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell> T</cell>
						</row>

						<row>
							<cell />
						</row>
					</tabular>

				<p>
					Look at the fourth (or sixth) row.
					In this case, <m>(P \imp R) \vee (Q \imp R)</m> is true, but <m>(P \vee Q) \imp R</m> is false.
					Therefore the statements are not logically equivalent.
				</p>

				<p>
					While we don't have logical equivalence, it is the case that whenever <m>(P \vee Q) \imp R</m> is true, so is <m>(P \imp R) \vee (Q \imp R)</m>.
					This tells us that we can <em>deduce</em> <m>(P \imp R) \vee (Q \imp R)</m> from <m>(P \vee Q) \imp R</m>, just not the reverse direction.
				</p>
			</solution>
		</example>

	</subsection>
		<subsection>
			<title>Equivalence for Quantified Statements</title>

			<p>
				All the examples we have looked at so far have only involved <em>propositional</em> logic, where the basic units of logic are statements that are either true or false.
				It is also possible to say that two statements involving quantifiers and predicates are logically equivalent.
			</p>

			<p>
				Sometimes the quantifiers have nothing to do with the equivalence.
				For example,
				<me>
					\forall x (P(x) \imp Q(x)) \equiv \forall x (\neg P(x) \vee Q(x))
				</me>.
				As soon as we replace the <m>x</m> with a constant, we are left with two statements that are logically equivalent based on their propositional form.
			</p>

			<p>
				Other times, the more interesting times, it is exactly the logic of the quantifiers that makes the statements logically equivalent.
				What is especially interesting here is that we cannot use truth tables to verify these equivalences!
			</p>

			<p>
				Instead, we need to reason about the domain of discourse as a set.
				For example, let's consider how negation interacts with quantifiers.
			</p>

			<p>
				Consider the claim that <q>all odd numbers are prime.</q>  We might represent this symbolically as <m>\forall x (O(x) \imp P(x))</m>.
				The statement clearly is not true, so what <em>is</em> true is that <q>not all odd numbers are prime</q> (i.e., <m>\neg\forall x(O(x) \imp P(x))</m>).
				How do we know?  Easy: 9.
				Yes, 9 is odd but not prime.
				But is it enough that just one odd number isn't prime?
			</p>

			<p>
				To dispute a universal claim, you just need <em>one</em> single counterexample.
				You just need to show <em>there exists</em> a number for which the claim is false.
				In our case, we have the equivalence,
				<me>
					\neg\forall x (O(x) \imp P(x)) \equiv \exists x (O(x) \wedge \neg P(x))
				</me>.
				If we ignore the quantifiers for a minute, we are left with
				<me>
					\neg(O \imp P) \equiv O \wedge \neg P
				</me>
				which is exactly an example of <xref ref="thm-neg-imp"/>.
				The new, interesting part is that when we negated the universal quantifier, we got an existential quantifier.
			</p>

			<p>
				Negating an existential quantifier results in a universal quantifier.
				This makes sense.
				If there does not exist something with a property, then everything does not have that property.
			</p>

			<assemblage>
				<title>Quantifiers and Negation</title>

				<idx><h>quantifier</h><h>interaction with negation</h></idx>
				<idx><h>negation</h><h>interaction with quantifiers</h></idx>
				<blockquote>
					<p>
						<m>\neg \forall x P(x)</m> is equivalent to <m>\exists x \neg P(x)</m>.
					</p>

					<p>
						<m>\neg \exists x P(x)</m> is equivalent to <m>\forall x \neg P(x) </m>.
					</p>
				</blockquote>
			</assemblage>

			<p>
				Symbolically, we can pass the negation symbol over a quantifier, but that causes the quantifier to switch type.
			</p>

			<p>
				Another way to see why this makes sense: Universal quantifiers are like (possibly infinite) conjunctions since they claim that the property is true of this thing, and that thing, and the other thing,... all things. Existential quantifiers are like (possibly infinite) disjunctions: The property is true of at least one thing, maybe this, or that, or the other, or....
				De Morgan's laws tell us that when we negate a conjunction, we get a disjunction, and when we negate a disjunction, we get a conjunction.
				Isn't it great when everything works out as it should?
			</p>

			<example>
				<statement>
					<p>
						Suppose we claim that there is no smallest number.
						We can translate this into symbols as
						<me>
							\neg \exists x \forall y (x \le y)
						</me>.
						(<q>It is not true that there is a number <m>x</m> such that for all numbers <m>y</m>, <m>x</m> is less than or equal to <m>y</m>.</q>)
					</p>

					<p>
						However, we know how negation interacts with quantifiers: We can pass a negation over a quantifier by switching the quantifier type (between universal and existential).
						So the statement above should be <em>logically equivalent</em> to
						<me>
							\forall x \exists y (y \lt x)
						</me>.
						Notice that <m>y \lt x</m> is the negation of <m>x \le y</m>.
						This reads, <q>For every number <m>x</m> there is a number <m> y</m> which is smaller than <m>x</m>.</q> We see that this is another way to make our original claim.
					</p>
				</statement>
			</example>

			<p>
				It is important to stress that predicate logic <em>extends</em> propositional logic (much like how quantum mechanics extends classical mechanics).
				Everything that we learned about logical equivalence and deductions still applies.
				However, predicate logic allows us to analyze statements at a higher resolution, digging down into the individual propositions <m>P</m>, <m>Q</m>, etc.
			</p>

			<p>
				To do this, we need to understand how quantifiers and connectives interact.
				We have already seen something about negations and quantifiers.
				What about the other connectives?  Let's look at an example exploring how the universal quantifier and disjunctions can (or cannot) work together.
			</p>


			<example>
				<statement>
					<p>
						Consider the two statements,
						<me>
							\forall x (P(x) \vee Q(x)) \qquad \qquad \forall x P(x) \vee \forall x Q(x)
						</me>.
						Are these logically equivalent?
					</p>
				</statement>

				<solution>
					<p>
						These statements are NOT logically equivalent.
						Intuitively, the statement on the left claims that everything is either a <m>P</m>-thing or a <m>Q</m>-thing.
						The statement on the right claims that either everything is a <m>P</m>-thing or that everything is a <m>Q</m>-thing.
						These <em>feel</em> different.
					</p>

					<p>
						To be sure, we would like to think of predicates <m>P(x)</m> and <m>Q(x)</m> and some domain of discourse such that one of the statements is true and the other is false.
						How about we let <m>P(x)</m> be, <q><m>x</m> is even</q> and <m>Q(x)</m> be, <q><m>x</m> is odd.</q> Our domain of discourse will be all integers (as that is the set of numbers for which even and odd make sense).
					</p>

					<p>
						The statement on the left is true!  Every number is either even or odd.
						But is every number even?  No.
						Is every number odd?  No.
						So the statement on the right is false (it is a <em>false or false</em>).
					</p>

					<p>
						Interestingly, the statement on the right implies the statement on the left.
						That is,
						<me>
							(\forall x P(x) \vee \forall x E(x)) \imp \forall x (P(x) \vee Q(x))
						</me>
						is always true.
					</p>

					<p>
						This is similar to a tautology, although we reserve that term for necessary truths in propositional logic.
						A statement in predicate logic that is necessarily true gets the more prestigious designation of a <term>law of logic</term>
						<idx>law of logic</idx>
						(or sometimes <term>logically valid</term>,
						<idx><h>logically valid</h><see>law of logic</see> </idx>
						but that is less fun).
					</p>
				</solution>
			</example>

			<p>
				We can also consider how quantifiers interact with each other.
			</p>

			<example>
				<statement>
					<p>
						Can you switch the order of quantifiers? For example, consider the two statements:
						<me>
							\forall x \exists y P(x,y) \qquad \text{ and } \qquad \exists y \forall x P(x,y)
						</me>.
						Are these logically equivalent?
					</p>
				</statement>

				<solution>
					<p>
						These statements are NOT logically equivalent.
						To see this, we should provide an interpretation of the predicate <m>P(x,y)</m> which makes one of the statements true and the other false.
					</p>

					<p>
						Let <m>P(x,y)</m> be the predicate <m>x \lt y</m>.
						It is true, in the natural numbers, that for all <m>x</m> there is some <m>y</m> greater than that <m>x</m> (since there are infinitely many numbers).
						However, there is no natural number <m>y</m> which is greater than every number <m>x</m>.
						Thus it is possible for <m>\forall x \exists y P(x,y)</m> to be true while <m>\exists y \forall x P(x,y)</m> is false.
					</p>

					<p>
						We cannot do the reverse of this though.
						If there is some <m>y</m> for which every <m>x</m> satisfies <m>P(x,y)</m>, then certainly for every <m>x</m> there is some <m>y</m> which satisfies <m>P(x,y)</m>.
						The first is saying we can find one <m>y</m> that works for every <m>x</m>.
						The second allows different <m>y</m>'s to work for different <m>x</m>'s, but nothing is preventing us from using the same <m>y</m> that works for every <m>x</m>.
						In other words, while we don't have logical equivalence between the two statements, we do have a valid deduction rule:
					</p>

						<tabular halign="center">
							<row bottom="minor">
								<cell />
								<cell><m>\exists y \forall x P(x,y)</m> </cell>
							</row>

							<row>
								<cell><m> \therefore</m> </cell>
								<cell><m>\forall x \exists y P(x,y)</m> </cell>
							</row>
						</tabular>

					<p>
						Put yet another way, this says that the single statement
						<me>
							\exists y \forall x P(x,y) \imp \forall x \exists y P(x,y)
						</me>
						is always true; it is a law of logic.
					</p>
				</solution>
			</example>
	</subsection>


	<subsection>
		<title> Deductions</title>

		<p>
			Earlier, we claimed that the following was a valid argument:
		</p>

		<blockquote>
			<p>
				If Edith eats her vegetables, then she can have a cookie.
				Edith ate her vegetables.
				Therefore Edith gets a cookie.
			</p>
		</blockquote>

		<p>
			How do we know this is valid? Let's look at the form of the statements.
			Let <m>P</m> denote, <q>Edith eats her vegetables</q> and <m>Q</m> denote, <q>Edith can have a cookie.</q> The logical form of the argument is then:
		</p>

			<tabular halign="center">
				<row>
					<cell />
					<cell><m>P \imp Q</m> </cell>
				</row>

				<row bottom="minor">
					<cell />
					<cell><m>P</m> </cell>
				</row>

				<row>
					<cell><m>\therefore</m> </cell>
					<cell><m>Q</m> </cell>
				</row>
			</tabular>

		<p>
			This is an example of a <term>deduction rule</term>,
			<idx><h>deduction rule</h> </idx>
			an argument form that is always valid.
			This one is a particularly famous rule called <foreign>modus ponens</foreign>.
			<idx><h sortby="modus ponens"><em>modus ponens</em> </h> </idx>
			Are you convinced that it is a valid deduction rule? If not, consider the following truth table:
		</p>

			<tabular halign="center">
				<col right="minor" /> <col right="medium" /> <col />
				<row bottom="minor">
					<cell><m>P</m> </cell>
					<cell><m>Q</m> </cell>
					<cell><m>P\imp Q</m> </cell>
				</row>

				<row>
					<cell> T</cell>
					<cell>T</cell>
					<cell>T</cell>
				</row>

				<row>
					<cell>T</cell>
					<cell>F</cell>
					<cell>F</cell>
				</row>

				<row>
					<cell>F</cell>
					<cell>T</cell>
					<cell> T</cell>
				</row>

				<row>
					<cell>F</cell>
					<cell>F</cell>
					<cell>T</cell>
				</row>
			</tabular>

		<p>
			This is just the truth table for <m>P \imp Q</m>, but what matters here is that all the lines in the deduction rule have their own column in the truth table.
			Remember that an argument is valid provided the conclusion must be true given that the premises are true.
			The premises in this case are <m>P \imp Q</m> and <m>P</m>.
			Which <em>rows</em> of the truth table correspond to both of these being true? <m>P</m> is true in the first two rows, and of those, only the first row has <m>P \imp Q</m> true as well.
			And lo-and-behold, in this one case, <m>Q</m> is also true.
			So if <m>P\imp Q</m> and <m>P</m> are both true, we see that <m>Q</m> must be true as well.
		</p>

		<p>
			Think of deduction rules as a sort of <em>one-way</em> form of logical equivalence.
			Two statements are logically equivalent provided that in every row of the truth table in which the first statement is true, so is the second, and in every row in which the second statement is true, so is the first.
			A deduction only requires the first of these two parts.
		</p>

		<p>
			Here are a few more examples.
		</p>

		<example>
			<statement>
				<p>
					Show that the following is a valid deduction rule.
				</p>

					<tabular halign="center">
						<row>
							<cell />
							<cell><m>P \imp Q</m> </cell>
						</row>

						<row bottom="minor">
							<cell />
							<cell><m>\neg P \imp Q</m> </cell>
						</row>

						<row>
							<cell><m>\therefore</m> </cell>
							<cell><m> Q</m> </cell>
						</row>
					</tabular>
			</statement>

			<solution>
				<p>
					We make a truth table which contains all the lines of the argument form:
				</p>

					<tabular halign="center">
						<col right="minor" /> <col right="medium" /> <col right="minor" /> <col right="minor" /> <col />
						<row bottom="minor">
							<cell><m>P</m> </cell>
							<cell><m>Q</m> </cell>
							<cell><m>P\imp Q</m> </cell>
							<cell><m>\neg P</m> </cell>
							<cell><m>\neg P \imp Q</m> </cell>
						</row>

						<row>
							<cell> T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell> T</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell> F</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>F</cell>
						</row>
					</tabular>

				<p>
					(we include a column for <m>\neg P</m> just as a helping step to get the column for <m>\neg P \imp Q</m>).
				</p>

				<p>
					Now look at all the rows for which both <m>P \imp Q</m> and <m>\neg P \imp Q</m> are true.
					This happens only in rows 1 and 3.
					Hey! In those rows <m>Q</m> is true as well, so the argument form is valid (it is a valid deduction rule).
				</p>
			</solution>
		</example>

		<example>
			<statement>
				<p>
					Decide whether the following is a valid deduction rule.
				</p>

					<tabular halign="center">
						<row>
							<cell />
							<cell><m>P \imp R</m> </cell>
						</row>

						<row>
							<cell />
							<cell><m>Q \imp R</m> </cell>
						</row>

						<row bottom="minor">
							<cell />
							<cell><m>R</m> </cell>
						</row>

						<row>
							<cell><m>\therefore</m> </cell>
							<cell><m>P \vee Q</m> </cell>
						</row>
					</tabular>
			</statement>

			<solution>
				<p>
					Let's make a truth table containing all four statements.
				</p>

					<tabular halign="center">
						<col right="minor" /> <col right="minor" /> <col right="medium" /> <col right="minor" /> <col right="minor" /> <col />
						<row bottom="minor">
							<cell><m>P</m> </cell>
							<cell><m>Q</m> </cell>
							<cell><m>R</m> </cell>
							<cell><m>P \imp R</m> </cell>
							<cell><m>Q \imp R</m> </cell>
							<cell><m>P \vee Q</m> </cell>
						</row>

						<row>
							<cell> T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell> F</cell>
							<cell>F</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>T</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell> T</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell> T</cell>
							<cell>T</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>F</cell>
							<cell>T</cell>
						</row>

						<row>
							<cell> F</cell>
							<cell>F</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>T</cell>
							<cell>F</cell>
						</row>

						<row>
							<cell>F</cell>
							<cell>F</cell>
							<cell>F</cell>
							<cell> T</cell>
							<cell>T</cell>
							<cell>F</cell>
						</row>
					</tabular>

				<p>
					Look at the second-to-last row.
					Here all three premises of the argument are true, but the conclusion is false.
					Thus this is not a valid deduction rule.
				</p>

				<p>
					While we have the truth table in front of us, look at rows 1, 3, and 5.
					These are the only rows in which all of the statements <m>P \imp R</m>, <m>Q \imp R</m>, and <m>P\vee Q</m> are true.
					It also happens that <m>R</m> is true in these rows as well.
					Thus we have discovered a new deduction rule we know <em>is</em> valid:
				</p>

					<tabular halign="center">
						<row>
							<cell />
							<cell><m>P \imp R</m> </cell>
						</row>

						<row>
							<cell />
							<cell><m>Q \imp R</m> </cell>
						</row>

						<row bottom="minor">
							<cell />
							<cell><m>P \vee Q</m> </cell>
						</row>

						<row>
							<cell><m>\therefore</m> </cell>
							<cell><m> R</m> </cell>
						</row>
					</tabular>
			</solution>
		</example>


		<paragraphs>
			<title>Quantifier deductions</title>

			<p>
				There are also deduction rules we could write down for quantifiers.
				For example, such a rule might be:
			</p>

			<tabular halign="center">
				<row bottom="minor">
					<cell />
					<cell><m>\forall x P(x)</m> </cell>
				</row>

				<row>
					<cell><m>\therefore</m> </cell>
					<cell><m> \exists x P(x)</m> </cell>
				</row>
			</tabular>

			<p>
				If everything is a <m>P</m>-thing, then there must be something which is a <m>P</m>-thing.<fn>Note that this does assume that your domain of discourse is non-empty.</fn> These rules cannot be verified with a truth table, and a full treatment of this sort of predicate logic is beyond the scope of this text.
			</p>
		</paragraphs>
	</subsection>
	<!--
	<subsection xml:id="subsec-applied-deductions">
		<title>Applied Deductions</title>

		<p>
			To conclude this section, let's return to Holmes and his outfit.
		</p>
	</subsection>
	-->
	<reading-questions xml:id="rqs-logic-prop">
		<exercise label="rq-logic-prop-equiv">
			<statement>
				<p>
					To check whether two statements are logically equivalent, you can use a truth table.
					Explain what you would look for in the truth table to conclude that the two statements are logically equivalent.
					What would tell you they are <em>not</em> logically equivalent?
				</p>
			</statement>
			<response />
		</exercise>

		<exercise label="rq-logic-prop-deduction">
			<statement>
				<p>
					To check whether a deduction rule is <em>valid</em>, you can use a truth table.
					Explain what you would look for in the completed truth table to say that the deduction rule is valid, and what would tell you the deduction rule is <em>not</em> valid.
				</p>
			</statement>
			<response />
		</exercise>

		<exercise label="rq-logic-prop-q">
			<statement>
				<p>
					What questions do you have after reading this section? Write at least one question about the content of this section that you are curious about.
				</p>
			</statement>
			<response />
		</exercise>
	</reading-questions>

	<xi:include href="practice/logic-rules.ptx"/>
	<xi:include href="exercises/logic-rules.ptx"/>
</section>
