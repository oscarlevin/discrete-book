<!DOCTYPE html>
<!--**************************************-->
<!--* Generated from MathBook XML source *-->
<!--*    on 2016-07-04T00:21:58Z    *-->
<!--*                                    *-->
<!--*   http://mathbook.pugetsound.edu   *-->
<!--*                                    *-->
<!--**************************************-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Generating Functions</title>
<meta name="Keywords" content="Authored in MathBook XML">
<meta name="viewport" content="width=device-width,  initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<script type="text/javascript" src="https://sagecell.sagemath.org/static/jquery.min.js"></script><script type="text/x-mathjax-config">
// contrib directory for accessibility menu, moot after v2.6+?
MathJax.Ajax.config.path["Contrib"] = "https://cdn.mathjax.org/mathjax/contrib";
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['\\(','\\)']],
    },
    TeX: {
        // [Contrib]accessibility menu moot after v2.6+?
        extensions: ["AMSmath.js", "AMSsymbols.js", "extpfeil.js", "autobold.js", "https://aimath.org/mathbook/mathjaxknowl.js", "[Contrib]/a11y/accessibility-menu.js", ],
        equationNumbers: { autoNumber: "none",
                           useLabelIds: true,
                           // JS comment, XML CDATA protect XHTML quality of file
                           // if removed in XSL, use entities
                           //<![CDATA[
                           formatID: function (n) {return String(n).replace(/[:'"<>&]/g,"")},
                           //]]>
                         },
        TagSide: "right",
        TagIndent: ".8em",
    },
    "HTML-CSS": {
        scale: 88,
    },
});
    </script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full"></script><link href="https://aimath.org/knowlstyle.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="https://aimath.org/knowl.js"></script><script src="https://aimath.org/mathbook/js/lib/jquery.sticky.js"></script><script src="https://aimath.org/mathbook/js/lib/jquery.espy.min.js"></script><script src="https://aimath.org/mathbook/js/Mathbook.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic%7CSource+Code+Pro:400" rel="stylesheet" type="text/css">
<link href="https://aimath.org/mathbook/stylesheets/mathbook-3.css" rel="stylesheet" type="text/css">
<link href="https://aimath.org/mathbook/mathbook-add-on.css" rel="stylesheet" type="text/css">
</head>
<body class="mathbook-book has-toc has-sidebar-left">
<div style="display:none;">\(\def\d{\displaystyle}
\def\course{Math 228}
\def\?{\reflectbox{?}}
\newcommand{\b}[1]{\mathbf{#1}}
\newcommand{\f}[1]{\mathfrak #1}
\newcommand{\c}[1]{\mathcal #1}
\newcommand{\s}[1]{\mathscr #1}
\newcommand{\r}[1]{\mathrm{#1}}
\def\N{\mathbb N}
\def\circleA{(-.5,0) circle (1)}
\def\Z{\mathbb Z}
\def\circleAlabel{(-1.5,.6) node[above]{$A$}}
\def\Q{\mathbb Q}
\def\circleB{(.5,0) circle (1)}
\def\R{\mathbb R}
\def\circleBlabel{(1.5,.6) node[above]{$B$}}
\def\C{\mathbb C}
\def\circleC{(0,-1) circle (1)}
\def\F{\mathbb F}
\def\circleClabel{(.5,-2) node[right]{$C$}}
\def\A{\mathbb A}
\def\twosetbox{(-2,-1.5) rectangle (2,1.5)}
\def\X{\mathbb X}
\def\threesetbox{(-2,-2.5) rectangle (2,1.5)}
\def\E{\mathbb E}
\def\O{\mathbb O}
\def\U{\mathcal U}
\def\pow{\mathcal P}
\def\inv{^{-1}}
\def\nrml{\triangleleft}
\def\st{:}
\def\~{\widetilde}
\def\rem{\mathcal R}
\def\sigalg{$\sigma$-algebra }
\def\Gal{\mbox{Gal}}
\def\iff{\leftrightarrow}
\def\Iff{\Leftrightarrow}
\def\r{.55}
\def\land{\wedge}
\def\And{\bigwedge}
\def\entry{\entry}
\def\AAnd{\d\bigwedge\mkern-18mu\bigwedge}
\def\Vee{\bigvee}
\def\VVee{\d\Vee\mkern-18mu\Vee}
\def\imp{\rightarrow}
\def\Imp{\Rightarrow}
\def\Fi{\Leftarrow}
\def\var{\mbox{var}}
\def\r{.5}
\def\Th{\mbox{Th}}
\def\entry{\entry}
\def\sat{\mbox{Sat}}
\def\con{\mbox{Con}}
\def\iffmodels{\bmodels\models}
\def\dbland{\bigwedge \!\!\bigwedge}
\def\dom{\mbox{dom}}
\def\rng{\mbox{range}}
\DeclareMathOperator{\wgt}{wgt}
\newcommand{\vtx}[2]{node[fill,circle,inner sep=0pt, minimum size=4pt,label=#1:#2]{}}
\newcommand{\va}[1]{\vtx{above}{#1}}
\newcommand{\vb}[1]{\vtx{below}{#1}}
\newcommand{\vr}[1]{\vtx{right}{#1}}
\newcommand{\vl}[1]{\vtx{left}{#1}}
\renewcommand{\v}{\vtx{above}{}}
\def\circleA{(-.5,0) circle (1)}
\def\circleAlabel{(-1.5,.6) node[above]{$A$}}
\def\circleB{(.5,0) circle (1)}
\def\circleBlabel{(1.5,.6) node[above]{$B$}}
\def\circleC{(0,-1) circle (1)}
\def\circleClabel{(.5,-2) node[right]{$C$}}
\def\twosetbox{(-2,-1.4) rectangle (2,1.4)}
\def\threesetbox{(-2.5,-2.4) rectangle (2.5,1.4)}
\def\ansfilename{practice-answers}
\def\shadowprops{{fill=black!50,shadow xshift=0.5ex,shadow yshift=0.5ex,path fading={circle with fuzzy edge 10 percent}}}
\def\sb{.6}
\newcommand{\lt}{ &lt; }
\newcommand{\gt}{ &gt; }
\newcommand{\amp}{ &amp; }
\)</div>
<header id="masthead"><div class="banner"><div class="container">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><span class="title">Discrete Mathematics: An Open Introduction    </span></h1>
<p class="byline">Oscar Levin</p>
</div>
</div></div>
<nav id="primary-navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active">Contents</button><div class="tree-nav toolbar toolbar-divisor-3">
<a class="previous-button toolbar-item button" href="ch_additionalTopics.html">Previous</a><a class="up-button button toolbar-item" href="ch_additionalTopics.html">Up</a><a class="next-button button toolbar-item" href="section-33.html">Next</a>
</div>
<button class="sidebar-right-toggle-button button active">Annotations</button>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><a class="previous-button toolbar-item button" href="ch_additionalTopics.html">Previous</a><a class="up-button button toolbar-item" href="ch_additionalTopics.html">Up</a><a class="next-button button toolbar-item" href="section-33.html">Next</a>
</div>
</div></nav></header><div class="page">
<aside id="sidebar-left" class="sidebar"><div class="sidebar-content">
<nav id="toc"><h2 class="link"><a href="frontmatter-1.html"><span class="title">Front Matter</span></a></h2>
<ul></ul>
<h2 class="link"><a href="chapter-1.html"><span class="codenumber">1</span><span class="title">Preface</span></a></h2>
<ul>
<li><a href="section-1.html">How to use this book</a></li>
<li><a href="section-2.html">Previous and future editions</a></li>
<li><a href="section-3.html">Acknowledgments</a></li>
</ul>
<h2 class="link"><a href="ch_intro.html"><span class="codenumber">2</span><span class="title">Introduction and Preliminaries</span></a></h2>
<ul>
<li><a href="section-4.html">What is Discrete Mathematics?</a></li>
<li><a href="sec_sets.html">Sets</a></li>
<li><a href="sec_functions.html">Functions</a></li>
</ul>
<h2 class="link"><a href="ch_counting.html"><span class="codenumber">3</span><span class="title">Counting</span></a></h2>
<ul>
<li><a href="sec_additiveMultiplicative.html">Additive and Multiplicative Principles</a></li>
<li><a href="sec_binom.html">Binomial Coefficients</a></li>
<li><a href="sec_comb-perm.html">Combinations and Permutations</a></li>
<li><a href="sec_comb-proofs.html">Combinatorial Proofs</a></li>
<li><a href="sec_stars-and-bars.html">Stars and Bars</a></li>
<li><a href="sec_advPIE.html">Advanced Counting Using PIE</a></li>
<li><a href="sec_count-functions.html">Counting Functions</a></li>
<li><a href="sec_count-conc.html">Chapter Summary</a></li>
</ul>
<h2 class="link"><a href="ch_sequences.html"><span class="codenumber">4</span><span class="title">Sequences</span></a></h2>
<ul>
<li><a href="sec_seq_basics.html">Basics</a></li>
<li><a href="sec_arith-geom.html">Arithmetic and Geometric Sequences</a></li>
<li><a href="sec_polyfit.html">Polynomial Fitting</a></li>
<li><a href="sec_recurrence.html">Solving Recurrence Relations</a></li>
<li><a href="sec_induction.html">Induction</a></li>
<li><a href="sec_sequences-conc.html">Chapter Summary</a></li>
</ul>
<h2 class="link"><a href="ch_logic.html"><span class="codenumber">5</span><span class="title">Logic and Proofs</span></a></h2>
<ul>
<li><a href="sec_propositional.html">Propositional Logic</a></li>
<li><a href="sec_logical-equiv.html">Logical Equivalence</a></li>
<li><a href="sec_quantifiers.html">Quantifiers and Predicate Logic</a></li>
<li><a href="sec_proofs.html">Proofs</a></li>
<li><a href="sec_logic-conc.html">Chapter Summary</a></li>
</ul>
<h2 class="link"><a href="ch_graphtheory.html"><span class="codenumber">6</span><span class="title">Graph Theory</span></a></h2>
<ul>
<li><a href="section-26.html">Basics</a></li>
<li><a href="sec_planar.html">Planar Graphs</a></li>
<li><a href="sec_coloring.html">Coloring</a></li>
<li><a href="sec_paths.html">Euler Paths and Circuits</a></li>
<li><a href="sec_matchings.html">Matching in Bipartite Graphs</a></li>
<li><a href="sec_gt-conc.html">Chapter Summary</a></li>
</ul>
<h2 class="link active"><a href="ch_additionalTopics.html"><span class="codenumber">7</span><span class="title">Additional Topics</span></a></h2>
<ul>
<li><a href="section-32.html" class="active">Generating Functions</a></li>
<li><a href="section-33.html">Introduction to Number Theory</a></li>
</ul>
<h2 class="link"><a href="ch_solutions.html"><span class="codenumber">8</span><span class="title">Solutions to Exercises</span></a></h2>
<ul></ul>
<h2 class="link"><a href="backmatter-1.html"><span class="title">Back Matter</span></a></h2>
<ul><li><a href="index-part-1.html">Index</a></li></ul></nav><div class="extras"><nav><a class="mathbook-link" href="https://mathbook.pugetsound.edu">Authored in MathBook XML</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://cdn.mathjax.org/mathjax/badge/badge.gif" border="0" alt="Powered by MathJax"></a></nav></div>
</div></aside><main class="main"><div id="content" class="mathbook-content"><section class="section" id="section-32"><header title="Section 7.1 Generating Functions"><h1 class="heading hide-type" alt="Section 7.1 Generating Functions">
<span class="type">Section</span><span class="codenumber">7.1</span><span class="title">Generating Functions</span>
</h1></header><article class="introduction" id="introduction-29"><h5 class="heading"><span></span></h5>
<p id="p-1980">
There is an extremely powerful tool in discrete mathematics used to manipulate sequences called the generating function. The idea is this: instead of an infinite sequence (for example: \(2, 3, 5, 8, 12, \ldots\)) we look at a single function which encodes the sequence. But not a function which gives the \(n\)th term as output. Instead, a function whose power series (like from calculus) “displays” the terms of the sequence. So for example, we would look at the power series \(2 + 3x + 5x^2 + 8x^3 + 12x^4 + \cdots\) which displays the sequence \(2, 3, 5, 8, 12, \ldots\) as coefficients.
</p>
<p id="p-1981">
An infinite power series is simply an infinite sum of terms of the form \(c_nx^n\) were \(c_n\) is some constant. So we might write a power series like this:
\begin{equation*}
  \sum_{k=0}^\infty c_k x^k.
\end{equation*}
or expanded like this
\begin{equation*}
  c_0 + c_1x + c_2x^2 + c_3x^3 + c_4x^4 + c_5x^5 + \cdots.
\end{equation*}
</p>
<p id="p-1982">
When viewed in the context of generating functions, we call such a power series a <!--Style me with CSS--><em>generating series</em>. The generating series generates the sequence
\begin{equation*}
  c_0, c_1, c_2, c_3, c_4, c_5, \ldots.
\end{equation*}
</p>
<p id="p-1983">
In other words, the sequence generated by a generating series is simply the sequence of <!--Style me with CSS--><em>coefficients</em> of the infinite polynomial.
</p>
<div class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-example-102" id="example-102"><article class="example-like"><h5 class="heading">
<span class="type">Example</span><span class="codenumber">7.1.1</span>
</h5></article></a></div>
<div id="hk-example-102" style="display: none;" class="tex2jax_ignore">
<article class="example-like"><p id="p-1984">
What sequence is represented by the generating series \(3 + 8x^2 + x^3 + \frac{x^5}{7} + 100x^6 + \cdots\)?
</p></article><div class="posterior"><div>
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-solution-204" id="solution-204"><span class="">Solution</span></a></span><span id="hk-solution-204" style="display: none;" class="tex2jax_ignore"><div class="remark-like">
<p id="p-1985">
We just read off the coefficients of each \(x^n\) term. So \(a_0 = 3\) since the coefficient of \(x^0\) is 3 (\(x^0 = 1\) so this is the constant term). What is \(a_1\)? It is NOT 8, since 8 is the coefficient of \(x^2\), so 8 is the term \(a_2\) of the sequence. To find \(a_1\) we need to look for the coefficient of \(x^1\) which in this case is 0. So \(a_1 = 0\). Continuing, we have \(a_2 = 8\), \(a_3 = 1\), \(a_4 = 0\), and \(a_5 = \frac{1}{7}\). So we have the sequence
\begin{equation*}
  3, 0, 8, 1, \frac{1}{7}, 100, \ldots
\end{equation*}
</p>
<p id="p-1986">
Note that when discussing generating functions, we always start our sequence with \(a_0\).
</p>
</div></span>
</div></div>
</div>
<p id="p-1987">
Now you might very naturally ask why we would do such a thing. One reason is that encoding a sequence with a power series helps us keep track of which term is which in the sequence. For example, if we write the sequence \(1, 3, 4, 6, 9, \ldots, 24, 41,\ldots\) it is impossible to determine which term \(24\) is (even if we agreed that the first term was supposed to be \(a_0\)). However, if we wrote the generating series instead, we would have \(1 + 3x + 4x^2 + 6x^3 + 9x^4 + \cdots + 24 x^{17} + 41 x^{18} + \cdots\). Now it is clear that 24 is the 17th term of the sequence (that is, \(a_{17} = 24\)). Of course to get this benefit we could have displayed our sequence in any number of ways, perhaps \(\fbox{1}_0 \fbox{3}_1 \fbox{4}_2 \fbox{6}_3 \fbox{9}_4 \cdots \fbox{24}_{17}\fbox{41}_{18}\cdots\), but we do not do this. The reason is that the generating series looks like an ordinary power series (although we are interpreting it differently) so we can do things with it that we ordinarily do with power series such as write down what it converges to.
</p>
<p id="p-1988">
For example, from calculus we know that the power series \(1 + x + \frac{x^2}{2} + \frac{x^3}{6} + \frac{x^4}{24} + \cdots + \frac{x^n}{n!} + \cdots\) converges to the function \(e^x\). So we can use \(e^x\) as a way of talking about the sequence of coefficients of the power series for \(e^x\). When we write down a nice compact function which has an infinite power series that we view as a generating series, then we call that function a <!--Style me with CSS--><em>generating function</em>. In this example, we would say
\begin{equation*}
  1, 1, \frac{1}{2}, \frac{1}{6}, \frac{1}{24}, \ldots, \frac{1}{n!}, \ldots \mbox{ has generating function }  e^x
\end{equation*}
</p></article><section class="subsection" id="subsection-42"><header title="Subsection 7.1.1 Building Generating Functions"><h1 class="heading hide-type" alt="Subsection 7.1.1 Building Generating Functions">
<span class="type">Subsection</span><span class="codenumber">7.1.1</span><span class="title">Building Generating Functions</span>
</h1></header><p id="p-1989">
The \(e^x\) example is very specific. We have a rather odd sequence, and the only reason we know its generating function is because we happen to know the Taylor series for \(e^x\). Our goal now is to gather some tools to build the generating function of a particular given sequence.
</p>
<p id="p-1990">
Let's see what the generating functions are for some very simple sequences. The simplest of all: 1, 1, 1, 1, 1, …. What does the <!--Style me with CSS--><em>generating series</em> look like? It is simply \(1 + x + x^2 + x^3 + x^4 + \cdots\). Now, can we find a closed formula for this power series? Yes! This particular series is really just a geometric series with common ratio \(x\). So if we use our “multiply, shift and subtract” technique from \Cref{sec:arith-geom}, we have

\begin{align*}
  S \amp  = 1 + x + x^2 + x^3 + \cdots\\
  \underline{- xS} \amp  \underline{\,\, = ~~~~~~ x + x^2 + x^3 + x^4 + \cdots}\\
  (1-x)S \amp  = 1
\end{align*}
</p>
<p id="p-1991">
Therefore we see that
\begin{equation*}
  1 + x + x^2 + x^3 \cdots = \dfrac{1}{1-x}
\end{equation*}
</p>
<p id="p-1992">
You might remember from calculus that this is only true on the interval of convergence for the power series, in this case when \(|x| \lt  1\). That is true for us, but we don't care. We are never going to plug anything in for \(x\), so as long as there is some value of \(x\) for which the generating function and generating series agree, we are happy. And in this case we are happy.
</p>
<article class="definition-like" id="definition-44"><h5 class="heading">
<span class="type">Definition</span><span class="codenumber">7.1.2</span>
</h5>
<p id="p-1993">
{\(1,1,1,\ldots\)}
The generating function for \(1,1,1,1,1,1,\ldots\) is \(\dfrac{1}{1-x}\)
</p></article><p id="p-1994">
Let's use this basic generating function to find generating functions for more sequences. What if we replace \(x\) by \(-x\). We get
\begin{equation*}
  \frac{1}{1+x} = 1 - x + x^2 - x^3 + \cdots \mbox{ which generates }  1, -1, 1, -1, \ldots
\end{equation*}
</p>
<p id="p-1995">
If we replace \(x\) by \(3x\) we get
\begin{equation*}
  \frac{1}{1-3x} = 1 + 3x + 9x^2 + 27x^3 + \cdots \mbox{ which generates }  1, 3, 9, 27, \ldots
\end{equation*}
</p>
<p id="p-1996">
By replacing the \(x\) in \(\frac{1}{1-x}\) we can get generating functions for a variety of sequences, but not all. For example, you cannot plug in anything for \(x\) to get the generating function for \(2,2,2,2, \ldots\). However, we are not lost yet. Notice that each term of \(2, 2, 2, 2, \ldots\) is the result of multiplying the terms of \(1, 1, 1, 1, \ldots\) by the constant 2. So multiply the generating function by 2 as well.
\begin{equation*}
  \frac{2}{1-x} = 2 + 2x + 2x^2 + 2x^3 + \cdots \mbox{ which generates }  2, 2, 2, 2, \ldots
\end{equation*}
</p>
<p id="p-1997">
Similarly, to find the generating function for the sequence \(3, 9, 27, 81, \ldots\), we note that this sequence is the result of multiplying each term of \(1, 3, 9, 27, \ldots\) by 3. Since we have the generating function for \(1, 3, 9, 27, \ldots\) we can say
\begin{equation*}
  \frac{3}{1-3x} = 3\cdot 1 + 3\cdot 3x + 3\cdot 9x^2 + 3\cdot 27x^3 + \cdots \mbox{ which generates }  3, 9, 27, 81, \ldots
\end{equation*}
</p>
<p id="p-1998">
What about the sequence \(2, 4, 10, 28, 82, \ldots\)? Here the terms are always 1 more than powers of 3. That is, we have added the sequences \(1,1,1,1,\ldots\) and \(1,3,9, 27,\ldots\) term by term. Therefore we can get a generating function by adding the respective generating functions:

\begin{align*}
  2 + 4x + 10x^2 + 28x^3 + \cdots  \amp  = (1 + 1) + (1 + 3)x + (1 + 9)x^2 + (1 + 27)x^3 + \cdots\\
  \amp  = 1 + x + x^2 + x^3 + \cdots + 1 + 3x + 9x^2 + 27x^3 + \cdots\\
  \amp  = \frac{1}{1-x} + \frac{1}{1-3x}
\end{align*}
</p>
<p id="p-1999">
The fun does not stop there: if we replace \(x\) in our original generating function by \(x^2\) we get
\begin{equation*}
  \frac{1}{1-x^2} = 1 + x^2  + x^4 + x^6\cdots \mbox{ which generates }  1, 0, 1, 0, 1, 0, \ldots.
\end{equation*}
</p>
<p id="p-2000">
How could we get \(0,1,0,1,0,1,\ldots\)? Start with the previous sequence and <!--Style me with CSS--><em>shift</em> it over by 1. But how do you do this? To see how shifting works, let's first try to get the generating function for the sequence \(0, 1, 3, 9, 27, \ldots\). We know that \(\frac{1}{1-3x} = 1 + 3x + 9x^2 + 27x^3 + \cdots\). To get the zero out front, we need the generating series to look like \(x + 3x^2 + 9x^3 + 27x^4+ \cdots\) (so there is no constant term). Multiplying by \(x\) has this effect. So the generating function for \(0, 1, 3, 9, 27, \ldots\) is \(\frac{x}{1-3x}\). This will also work to get the generating function for \(0,1,0,1,0,1,\ldots\):
\begin{equation*}
  \frac{x}{1-x^2} = x + x^3 + x^5 + \cdots \mbox{ which generates }  0, 1, 0, 1, 0 , 1 \ldots
\end{equation*}
</p>
<p id="p-2001">
What would happen if we add the sequences \(1,0,1,0,1,0,\ldots\) and \(0,1,0,1,0,1,\ldots\) term by term? We should get \(1,1,1,1,1,1\ldots\). What happens when we add the generating functions? It works (try it)!
\begin{equation*}
  \frac{1}{1-x^2} + \frac{x}{1-x^2} = \frac{1}{1-x}.
\end{equation*}
</p>
<p id="p-2002">
Here's a sneaky one: what happens if you take the <!--Style me with CSS--><em>derivative</em> of \(\frac{1}{1-x}\)? We get \(\frac{1}{(1-x)^2}\). On the other hand, if we differentiate term by term in the power series, we get \((1 + x + x^2 + x^3 + \cdots)' = 1 + 2x + 3x^2 + 4x^3 + \cdots\) which is the generating series for \(1, 2, 3, 4, \ldots\). This says
</p>
<article class="definition-like" id="definition-45"><h5 class="heading">
<span class="type">Definition</span><span class="codenumber">7.1.3</span>
</h5>
<p id="p-2003">
{\(1,2,3,\ldots\)}
The generating function for \(1, 2, 3, 4, 5, \ldots\) is \(\d\frac{1}{(1-x)^2}.\)
</p></article><p id="p-2004">
Take a second derivative: \(\frac{2}{(1-x)^3} = 2 + 6x + 12x^2 + 20x^3 + \cdots\). So \(\frac{1}{(1-x)^3} = 1 + 3x + 6x^2 + 10x^3 + \cdots\) is a generating function for the triangular numbers, \(1,3,6,10\ldots\) (although here we have \(a_0 = 1\) while \(T_0 = 0\) usually).
</p></section><section class="subsection" id="subsection-43"><header title="Subsection 7.1.2 Differencing"><h1 class="heading hide-type" alt="Subsection 7.1.2 Differencing">
<span class="type">Subsection</span><span class="codenumber">7.1.2</span><span class="title">Differencing</span>
</h1></header><p id="p-2005">
We have seen how to find generating functions from \(\frac{1}{1-x}\) using multiplication (by a constant or by \(x\)), substitution, addition, and differentiation. To use each of these, you must notice a way to transform the sequence \(1,1,1,1,1\ldots\) into your desired sequence. This is not always easy. It is also not really the way we have analyzed sequences. One thing we have considered often is the sequence of differences between terms of a sequence. This will turn out to be helpful in finding generating functions as well. The sequence of differences is often simpler than the original sequence. So if we know a generating function for the differences, we would like to use this to find a generating function for the original sequence.
</p>
<p id="p-2006">
For example, consider the sequence \(2, 4, 10, 28, 82, \ldots\). How could we move to the sequence of first differences: \(2, 6, 18, 54,\ldots\)? We want to subtract 2 from the 4, 4 from the 10, 10 from the 28, and so on. So if we subtract (term by term) the sequence \(0, 2, 4, 10, 28,\ldots\) from \(2, 4, 10, 28\ldots\), we will be set. We can get the generating function for \(0,2,4,10,28,\ldots\) from the generating function for \(2,4,10,28\ldots\) by multiplying by \(x\). Use \(A\) to represent the generating function for \(2, 4, 10, 28, 82, \ldots\) Then:

\begin{align*}
  A \amp  = 2 + 4x + 10x^2 +28x^3 + 82x^4 + \cdots\\
  \underline{-xA} \amp  \underline{\,\,= 0 + 2x + 4x^2 + 10x^3 + 28 x^4 + 82x^5 + \cdots}\\
  (1-x)A \amp  = 2 + 2x + 6x^2 + 18x^3 + 54x^4 + \cdots
\end{align*}
</p>
<p id="p-2007">
While we don't get exactly the sequence of differences, we do get something close. In this particular case, we already know the generating function \(A\) (we found it in the previous section) but most of the time we will use this differencing technique to <!--Style me with CSS--><em>find</em> \(A\): if we have the generating function for the sequence of differences, we can then solve for \(A\).
</p>
<div class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-example-103" id="example-103"><article class="example-like"><h5 class="heading">
<span class="type">Example</span><span class="codenumber">7.1.4</span>
</h5></article></a></div>
<div id="hk-example-103" style="display: none;" class="tex2jax_ignore">
<article class="example-like"><p id="p-2008">
Find a generating function for \(1, 3, 5, 7, 9,\ldots\).
</p></article><div class="posterior"><div>
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-solution-205" id="solution-205"><span class="">Solution</span></a></span><span id="hk-solution-205" style="display: none;" class="tex2jax_ignore"><div class="remark-like">
<p id="p-2009">
Notice that the sequence of differences is constant. We know how to find the generating function for any constant sequence. So denote the generating function for \(1, 3, 5, 7, 9, \ldots\) by \(A\). We have

\begin{align*}
  A \amp  = 1 + 3x + 5x^2 + 7x^3 + 9x^4 + \cdots\\
  \underline{-xA} \amp  \underline{\,\,= 0 + x + 3x^2 +  5x^3 + 7x^4 + 9x^5 + \cdots}\\
  (1-x)A \amp  = 1 + 2x + 2x^2 + 2x^3 + 2x^4 + \cdots
\end{align*}
</p>
<p id="p-2010">
We know that \(2x + 2x^2 + 2x^3 + 2x^4 + \cdots = \dfrac{2x}{1-x}\). Thus
\begin{equation*}
  (1-x)A = 1 + \frac{2x}{1-x}.
\end{equation*}
</p>
<p id="p-2011">
Now solve for \(A\):
\begin{equation*}
  A = \frac{1}{1-x} + \frac{2x}{(1-x)^2} = \frac{1+x}{(1-x)^2}.
\end{equation*}
</p>
<p id="p-2012">
Does this makes sense? Before we simplified the two fractions into one, we were adding the generating function for the sequence \(1,1,1,1,\ldots\) to the generating function for the sequence \(0, 2, 4, 6, 8, 10, \ldots\) (remember \(\frac{1}{(1-x)^2}\) generates \(1,2,3,4,5, \ldots\), multiplying by \(2x\) shifts it over, putting the zero out front, and doubles each term). If we add these term by term, we get the correct sequence \(1,3,5,7, 9, \ldots\).
</p>
</div></span>
</div></div>
</div>
<p id="p-2013">
Now that we have a generating function for the odd numbers, we can use that to find the generating function for the squares:
</p>
<div class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-example-104" id="example-104"><article class="example-like"><h5 class="heading">
<span class="type">Example</span><span class="codenumber">7.1.5</span>
</h5></article></a></div>
<div id="hk-example-104" style="display: none;" class="tex2jax_ignore">
<article class="example-like"><p id="p-2014">
Find the generating function for \(1, 4, 9, 16, \ldots\). Note we take \(1 = a_0\).
</p></article><div class="posterior"><div>
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-solution-206" id="solution-206"><span class="">Solution</span></a></span><span id="hk-solution-206" style="display: none;" class="tex2jax_ignore"><div class="remark-like">
<p id="p-2015">
Again we call the generating function for the sequence \(A\). Using differencing:

\begin{align*}
  A \amp  = 1 + 4x + 9x^2 + 16x^3 + \cdots\\
  \underline{- xA} \amp  \underline{\,\, = 0 + x + 4x^2 + 9x^3 + 16x^4 + \cdots}\\
  (1-x)A \amp  = 1 + 3x + 5x^2 + 7x^3 + \cdots
\end{align*}
</p>
<p id="p-2016">
Since \(1 + 3x + 5x^2 + 7x^3 + \cdots = \d\frac{1+x}{(1-x)^2}\) we have \(A = \d\frac{1+x}{(1-x)^3}\).
</p>
</div></span>
</div></div>
</div>
<p id="p-2017">
In each of the examples above, we found the difference between consecutive terms which gave us a sequence of differences for which we knew a generating function. We can generalize this to more complicated relationships between terms of the sequence. For example, if we know that the sequence satisfies the recurrence relation \(a_n = 3a_{n-1} - 2a_{n-2}\)? In other words, if we take a term of the sequence and subtract 3 times the previous term and then add 2 times the term before that, we get 0 (since \(a_n - 3a_{n-1} + 2a_{n-2} = 0\)). That will hold for all but the first two terms of the sequence. So after the first two terms, the sequence of results of these calculations would be a sequence of 0's, for which we definitely know a generating function.
</p>
<div class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-example-105" id="example-105"><article class="example-like"><h5 class="heading">
<span class="type">Example</span><span class="codenumber">7.1.6</span>
</h5></article></a></div>
<div id="hk-example-105" style="display: none;" class="tex2jax_ignore">
<article class="example-like"><p id="p-2018">
The sequence \(1, 3, 7, 15, 31, 63, \ldots\) satisfies the recurrence relation \(a_n = 3a_{n-1} - 2a_{n-2}\). Find the generating function for the sequence.
</p></article><div class="posterior"><div>
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-solution-207" id="solution-207"><span class="">Solution</span></a></span><span id="hk-solution-207" style="display: none;" class="tex2jax_ignore"><div class="remark-like">
<p id="p-2019">
Call the generating function for the sequence \(A\). We have

\begin{align*}
  A \amp  = 1 + 3x + 7x^2 + 15x^3 + 31x^4 + \cdots + a_nx^n + \cdots\\
  -3xA \amp  = 0 - 3x - 9x^2 - 21x^3 - 45x^4 - \cdots - 3a_{n-1}x^n - \cdots\\
  \underline{+~~~2x^2A_{~}^{~^{~}}} \amp  \underline{\,\, = 0 + 0x + 2x^2 + 6x^3 + 14x^4 + \cdots + 2a_{n-2}x^n + \cdots}\\
  (1-3x+2x^2)A \amp  = 1
\end{align*}
</p>
<p id="p-2020">
We multiplied \(A\) by \(-3x\) which shifts every term over one spot and multiplies them by \(-3\). On the third line, we multiplied \(A\) by \(2x^2\), which shifted every term over two spots and multiplied them by 2. When we add up the corresponding terms, we are taking each term, subtracting 3 times the previous term, and adding 2 times the term before that. This will happen for each term after \(a_1\) because \(a_n - 3a_{n-1} + 2a_{n-2} = 0\). In general, we might have two terms from the beginning of the generating series, although in this case the second term happens to be 0 as well.
</p>
<p id="p-2021">
Now we just need to solve for \(A\):
\begin{equation*}
  A = \frac{1}{1 - 3x + 2x^2}.
\end{equation*}
</p>
</div></span>
</div></div>
</div></section><section class="subsection" id="subsection-44"><header title="Subsection 7.1.3 Multiplication and Partial Sums"><h1 class="heading hide-type" alt="Subsection 7.1.3 Multiplication and Partial Sums">
<span class="type">Subsection</span><span class="codenumber">7.1.3</span><span class="title">Multiplication and Partial Sums</span>
</h1></header><p id="p-2022">
What happens to the sequences when you multiply two generating functions? Let's see: \(A = a_0 + a_1x + a_2x^2 + \cdots\) and \(B = b_0 + b_1x + b_2x^2 + \cdots\). To multiply \(A\) and \(B\), we need to do a lot of distributing (infinite FOIL?) but keep in mind we will group like terms and only need to write down the first few terms to see the pattern. The constant term is \(a_0b_0\). The coefficient of \(x\) is \(a_0b_1 + a_1b_0\). And so on. We get:
\begin{equation*}
  AB = a_0b_0 + (a_0b_1 + a_1b_0)x + (a_0b_2 + a_1b_1 + a_2b_0)x^2 + (a_0b_3 + a_1b_2 + a_2b_1 + a_3b_0)x^3 + \cdots
\end{equation*}
</p>
<div class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-example-106" id="example-106"><article class="example-like"><h5 class="heading">
<span class="type">Example</span><span class="codenumber">7.1.7</span>
</h5></article></a></div>
<div id="hk-example-106" style="display: none;" class="tex2jax_ignore">
<article class="example-like"><p id="p-2023">
“Multiply” the sequence \(1, 2, 3, 4, \ldots\) by the sequence \(1, 2, 4, 8, 16, \ldots\).
</p></article><div class="posterior"><div>
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-solution-208" id="solution-208"><span class="">Solution</span></a></span><span id="hk-solution-208" style="display: none;" class="tex2jax_ignore"><div class="remark-like">
<p id="p-2024">
The new constant term is just \(1 \cdot 1\). The next term will be \(1\cdot 2 + 2 \cdot 1 = 4\). The next term: \(1 \cdot 4 + 2 \cdot 2 + 3 \cdot 1 = 11\). One more: \(1 \cdot 8 + 2 \cdot 4 + 3 \cdot 2 + 4 \cdot 1 = 28\). The resulting sequence is
\begin{equation*}
  1, 4, 11, 28, 57, \ldots
\end{equation*}
</p>
<p id="p-2025">
Since the generating function for \(1,2,3,4, \ldots\) is \(\frac{1}{(1-x)^2}\) and the generating function for \(1,2,4,8, 16, \ldots\) is \(\frac{1}{1-2x}\), we have that the generating function for \(1,4, 11, 28, 57, \ldots\) is \(\frac{1}{(1-x)^2(1-2x)}\)
</p>
</div></span>
</div></div>
</div>
<p id="p-2026">
Consider the special case when you multiply a sequence by \(1, 1, 1, \ldots\). For example, multiply \(1,1,1,\ldots\) by \(1, 2, 3, 4, 5\ldots\). The first term is \(1\cdot 1 = 1\). Then \(1\cdot 2 + 1 \cdot 1 = 3\). Then \(1\cdot 3 + 1\cdot 2 + 1 \cdot 1 = 6\). The next term will be 10. We are getting the triangular numbers. More precisely, we get the sequence of partial sums of \(1,2,3,4,5, \ldots\).
In terms of generating functions, we take \(\frac{1}{1-x}\) (generating \(1,1,1,1,1\ldots\)) and multiply it by \(\frac{1}{(1-x)^2}\) (generating \(1,2,3,4,5,\ldots\)) and this give \(\frac{1}{(1-x)^3}\). This should not be a surprise as we found the same generating function for the triangular numbers earlier.
</p>
<p id="p-2027">
The point is, if you need to find a generating function for the sum of the first \(n\) terms of a particular sequence, and you know the generating function for <!--Style me with CSS--><em>that</em> sequence, you can multiply it by \(\frac{1}{1-x}\). To go back from the sequence of partial sums to the original sequence, you look at the sequence of differences. When you get the sequence of differences you end up multiplying by \(1-x\), or equivalently, dividing by \(\frac{1}{1-x}\). Multiplying by \(\frac{1}{1-x}\) gives partial sums, dividing by \(\frac{1}{1-x}\) gives differences.
</p></section><section class="subsection" id="subsection-45"><header title="Subsection 7.1.4 Solving Recurrence Relations with Generating Functions"><h1 class="heading hide-type" alt="Subsection 7.1.4 Solving Recurrence Relations with Generating Functions">
<span class="type">Subsection</span><span class="codenumber">7.1.4</span><span class="title">Solving Recurrence Relations with Generating Functions</span>
</h1></header><p id="p-2028">
We conclude with an example of one of the many reasons studying generating functions is helpful. We can use generating functions to solve recurrence relations.
</p>
<div class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-example-107" id="example-107"><article class="example-like"><h5 class="heading">
<span class="type">Example</span><span class="codenumber">7.1.8</span>
</h5></article></a></div>
<div id="hk-example-107" style="display: none;" class="tex2jax_ignore">
<article class="example-like"><p id="p-2029">
Solve the recurrence relation \(a_n = 3a_{n-1} - 2a_{n-2}\) with initial conditions \(a_0 = 1\) and \(a_1 = 3\).
</p></article><div class="posterior"><div>
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-solution-209" id="solution-209"><span class="">Solution</span></a></span><span id="hk-solution-209" style="display: none;" class="tex2jax_ignore"><div class="remark-like">
<p id="p-2030">
We saw in an example above that this recurrence relation gives the sequence \(1, 3, 7, 15, 31, 63, \ldots\) which has generating function \(\dfrac{1}{1 - 3x + 2x^2}\). We did this by calling the generating function \(A\) and then computing \(A - 3xA + 2x^2A\) which was just 1, since every other term canceled out.
</p>
<p id="p-2031">
But how does knowing the generating function help us? First, break up the generating function into two simpler ones. For this, we can use partial fraction decomposition. Start by factoring the denominator:
\begin{equation*}
  \frac{1}{1-3x + 2x^2} = \frac{1}{(1-x)(1-2x)}.
\end{equation*}
</p>
<p id="p-2032">
Partial fraction decomposition tells us that we can write this faction as the sum of two fractions (we decompose the given fraction):
\begin{equation*}
  \frac{1}{(1-x)(1-2x)} = \frac{a}{1-x} + \frac{b}{1-2x} \mbox{ ~~ for some constants \end{equation*}
</p>
<p id="p-2033">
To find \(a\) and \(b\) we add the two decomposed fractions using a common denominator. This gives
\begin{equation*}
  \frac{1}{(1-x)(1-2x)} = \frac{a(1-2x) + b(1-x)}{(1-x)(1-2x)}.
\end{equation*}
so
\begin{equation*}
  1 = a(1-2x) + b(1-x).
\end{equation*}
</p>
<p id="p-2034">
This must be true for all values of \(x\). If \(x = 1\), then the equation becomes \(1 = -a\) so \(a = -1\). When \(x = \frac{1}{2}\) we get \(1 = b/2\) so \(b = 2\). This tells us that we can decompose the fraction like this:
\begin{equation*}
  \frac{1}{(1-x)(1-2x)} = \frac{-1}{1-x} + \frac{2}{1-2x}.
\end{equation*}
</p>
<p id="p-2035">
This completes the partial fraction decomposition. Notice that these two fractions are generating functions we know. In fact, we should be able to expand each of them.
\begin{equation*}
  \frac{-1}{1-x} = -1 - x - x^2 -x^3 - x^4 - \cdots \mbox{ which generates }  -1, -1, -1, -1, -1, \ldots.
\end{equation*}
</p>\begin{equation*}
  \frac{2}{1-2x} = 2 + 4x + 8x^2 + 16x^3 + 32x^4 + \cdots \mbox{ which generates }  2, 4, 8, 16, 32, \ldots.
\end{equation*}<p id="p-2036">
We can give a closed formula for the \(n\)th term of each of these sequences. The first is just \(a_n = -1\). The second is \(a_n = 2^{n+1}\). The sequence we are interested in is just the sum of these, so the solution to the recurrence relation is
\begin{equation*}
  a_n = 2^{n+1} - 1
\end{equation*}
</p>
</div></span>
</div></div>
</div>
<p id="p-2037">
We can now add generating functions to our list of methods for solving recurrence relations.
	\withanswers
</p>
<section class="exercises" id="exercises-51"><header title="Exercises 7.1.4.1 Exercises"><h1 class="heading hide-type" alt="Exercises 7.1.4.1 Exercises">
<span class="type">Subsubsection</span><span class="codenumber">7.1.4.1</span><span class="title">Exercises</span>
</h1></header><article class="exercise-like" id="exercise-388"><h5 class="heading"><span class="codenumber">1</span></h5>
<p id="p-2038">
Find the generating function for each of the following sequences by relating them back to a sequence with known generating function.
</p>
<ol style="list-style-type: lower-alpha;">
<li id="li-1209">\(4,4,4,4,4,\ldots\).</li>
<li id="li-1210">\(2, 4, 6, 8, 10, \ldots\).</li>
<li id="li-1211">\(0,0,0,2,4,6,8,10,\ldots\).</li>
<li id="li-1212">\(1, 5, 25, 125, \ldots\).</li>
<li id="li-1213">\(1, -3, 9, -27, 81, \ldots\).</li>
<li id="li-1214">\(1, 0, 5, 0, 25, 0, 125, 0, \ldots\).</li>
<li id="li-1215">\(0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 0, 5, \ldots\).</li>
</ol></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-281" id="answer-281"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-281" style="display: none;" class="tex2jax_ignore"><span class="solution"><ol style="list-style-type: lower-alpha;">
<li id="li-1216">\(\dfrac{4}{1-x}\).</li>
<li id="li-1217">\(\dfrac{2}{(1-x)^2}\).</li>
<li id="li-1218">\(\dfrac{2x^3}{(1-x}^2\).</li>
<li id="li-1219">\(\dfrac{1}{1-5x}\).</li>
<li id="li-1220">\(\dfrac{1}{1+3x}\).</li>
<li id="li-1221">\(\dfrac{1}{1-5x^2}\).</li>
<li id="li-1222">\(\dfrac{x}{(1-x^3)^2}\).</li>
</ol></span></span>
</div>
<article class="exercise-like" id="exercise-389"><h5 class="heading"><span class="codenumber">2</span></h5>
<p id="p-2039">
Find the sequence generated by the following generating functions:
</p>
<ol style="list-style-type: lower-alpha;">
<li id="li-1223">\(\dfrac{4x}{1-x}\).</li>
<li id="li-1224">\(\dfrac{1}{1-4x}\).</li>
<li id="li-1225">\(\dfrac{x}{1+x}\).</li>
<li id="li-1226">\(\dfrac{3x}{(1+x)^2}\).</li>
<li id="li-1227">\(\dfrac{1+x+x^2}{(1-x)^2}\) (Hint: multiplication).</li>
</ol></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-282" id="answer-282"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-282" style="display: none;" class="tex2jax_ignore"><span class="solution"><ol style="list-style-type: lower-alpha;">
<li id="li-1228">\(0, 4, 4, 4, 4, 4, \ldots\).</li>
<li id="li-1229">\(1, 4, 16, 64, 256, \ldots\).</li>
<li id="li-1230">\(0, 1, -1, 1, -1, 1, -1, \ldots\).</li>
<li id="li-1231">\(0, 3, -6, 9, -12, 15, -18, \ldots\).</li>
<li id="li-1232">\(1, 3, 6, 9, 12, 15, \ldots\).</li>
</ol></span></span>
</div>
<article class="exercise-like" id="exercise-390"><h5 class="heading"><span class="codenumber">3</span></h5>
<p id="p-2040">
Show how you can get the generating function for the triangular numbers in three different ways:
</p>
<ol style="list-style-type: lower-alpha;">
<li id="li-1233">Take two derivatives of the generating function for \(1,1,1,1,1, \ldots\)</li>
<li id="li-1234">Use differencing.</li>
<li id="li-1235">Multiply two known generating functions.</li>
</ol></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-283" id="answer-283"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-283" style="display: none;" class="tex2jax_ignore"><span class="solution"><ol style="list-style-type: lower-alpha;">
<li id="li-1236">The second derivative of \(\dfrac{1}{1-x}\) is \(\dfrac{2}{(1-x)^3}\) which expands to \(2 + 6x + 12x^2 + 20x^3 + 30x^4 + \cdots\).  Dividing by 2 gives the generating function for the triangular numbers.</li>
<li id="li-1237">Compute \(A - xA\) and you get \(1 + 2x + 3x^2 + 4x^3 + \cdots\) which can be written as \(\dfrac{1}{(1-x)^2}\).  Solving for \(A\) gives the correct generating function.</li>
<li id="li-1238">The triangular numbers are the sum of the first \(n\) numbers \(1,2,3,4, \ldots\).  To get the sequence of partial sums, we multiply by \(\frac{1}{1-x}\). so this gives the correct generating function again.</li>
</ol></span></span>
</div>
<article class="exercise-like" id="exercise-391"><h5 class="heading"><span class="codenumber">4</span></h5>
<p id="p-2041">
Use differencing to find the generating function for \(4, 5, 7, 10, 14, 19, 25, \ldots\).
</p></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-284" id="answer-284"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-284" style="display: none;" class="tex2jax_ignore"><span class="solution"><p id="p-2042">
Call the generating function \(A\). Compute \(A - xA = 4 + x + 2x^2 + 3x^3 + 4x^4 + \cdots\). Thus \(A - xA = 4 + \dfrac{x}{(1-x)^2}\). Solving for \(A\) gives \(\d\frac{4}{1-x} + \frac{x}{(1-x)^3}\).
</p></span></span>
</div>
<article class="exercise-like" id="exercise-392"><h5 class="heading"><span class="codenumber">5</span></h5>
<p id="p-2043">
Find a generating function for the sequence with recurrence relation \(a_n = 3a_{n-1} - a_{n-2}\) with initial terms \(a_0 = 1\) and \(a_1 = 5\).
</p></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-285" id="answer-285"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-285" style="display: none;" class="tex2jax_ignore"><span class="solution"><p id="p-2044">
\(\dfrac{1+2x}{1-3x + x^2}\).
</p></span></span>
</div>
<article class="exercise-like" id="exercise-393"><h5 class="heading"><span class="codenumber">6</span></h5>
<p id="p-2045">
Use the recurrence relation for the Fibonacci numbers to find the generating function for the Fibonacci sequence.
</p></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-286" id="answer-286"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-286" style="display: none;" class="tex2jax_ignore"><span class="solution"><p id="p-2046">
Compute \(A - xA - x^2A\) and the solve for \(A\). The generating function will be \(\dfrac{x}{1-x-x^2}\).
</p></span></span>
</div>
<article class="exercise-like" id="exercise-394"><h5 class="heading"><span class="codenumber">7</span></h5>
<p id="p-2047">
Use multiplication to find the generating function for the sequence of partial sums of Fibonacci numbers, \(S_0, S_1, S_2, \ldots\) where \(S_0 = F_0\), \(S_1 = F_0 + F_1\), \(S_2 = F_0 + F_1 + F_2\), \(S_3 = F_0 + F_1 + F_2 + F_3\) and so on.
</p></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-287" id="answer-287"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-287" style="display: none;" class="tex2jax_ignore"><span class="solution"><p id="p-2048">
\(\dfrac{x}{(1-x)(1-x-x^2)}\).
</p></span></span>
</div>
<article class="exercise-like" id="exercise-395"><h5 class="heading"><span class="codenumber">8</span></h5>
<p id="p-2049">
Find the generating function for the sequence with closed formula \(a_n = 2(5^n) + 7(-3)^n\).
</p></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-288" id="answer-288"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-288" style="display: none;" class="tex2jax_ignore"><span class="solution"><p id="p-2050">
\(\dfrac{2}{1-5x} + \dfrac{7}{1+3x}\).
</p></span></span>
</div>
<article class="exercise-like" id="exercise-396"><h5 class="heading"><span class="codenumber">9</span></h5>
<p id="p-2051">
Find a closed formula for the \(n\)th term of the sequence with generating function \(\dfrac{3x}{1-4x} + \dfrac{1}{1-x}\).
</p></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-289" id="answer-289"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-289" style="display: none;" class="tex2jax_ignore"><span class="solution"><p id="p-2052">
\(a_n = 3\cdot 4^{n-1} + 1\).
</p></span></span>
</div>
<article class="exercise-like" id="exercise-397"><h5 class="heading"><span class="codenumber">10</span></h5>
<p id="p-2053">
Find \(a_7\) for the sequence with generating function \(\dfrac{2}{(1-x)^2}\cdot\dfrac{x}{1-x-x^2}\).
</p></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-290" id="answer-290"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-290" style="display: none;" class="tex2jax_ignore"><span class="solution"><p id="p-2054">
Hint: you should “multiply” the two sequences. Answer: 158.
</p></span></span>
</div>
<article class="exercise-like" id="exercise-398"><h5 class="heading"><span class="codenumber">11</span></h5>
<p id="p-2055">
Explain how we know that \(\dfrac{1}{(1-x)^2}\) is the generating function for \(1, 2, 3, 4, \ldots\).
</p></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-291" id="answer-291"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-291" style="display: none;" class="tex2jax_ignore"><span class="solution"><p id="p-2056">
Starting with \(\frac{1}{1-x} = 1 + x + x^2 + x^3 +\cdots\), we can take derivatives of both sides, given \(\frac{1}{(1-x)^2} = 1 + 2x + 3x^2 + \cdots\). By the definition of generating functions, this says that \(\frac{1}{(1-x)^2}\) generates the <!--Style me with CSS--><em>sequence</em> 1, 2, 3…. You can also find this using differencing or by multiplying.
</p></span></span>
</div>
<article class="exercise-like" id="exercise-399"><h5 class="heading"><span class="codenumber">12</span></h5>
<p id="p-2057">
Starting with the generating function for \(1,2,3,4, \ldots\), find a generating function for each of the following sequences.
</p>
<ol style="list-style-type: lower-alpha;">
<li id="li-1239">\(1, 0, 2, 0, 3, 0, 4,\ldots\).</li>
<li id="li-1240">\(1, -2, 3, -4, 5, -6, \ldots\).</li>
<li id="li-1241">\(0, 3, 6, 9, 12, 15, 18, \ldots\).</li>
<li id="li-1242">\(0, 3, 9, 18, 30, 45, 63,\ldots\). (Hint: relate this sequence to the previous one.)</li>
</ol></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-292" id="answer-292"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-292" style="display: none;" class="tex2jax_ignore"><span class="solution"><ol style="list-style-type: lower-alpha;">
<li id="li-1243">\(\frac{1}{(1-x^2)^2}\).</li>
<li id="li-1244">\(\frac{1}{(1+x)^2}\).</li>
<li id="li-1245">\(\frac{3x}{(1-x)^2}\).</li>
<li id="li-1246">\(\frac{3x}{(1-x)^3}\).  (partial sums).</li>
</ol></span></span>
</div>
<article class="exercise-like" id="exercise-400"><h5 class="heading"><span class="codenumber">13</span></h5>
<p id="p-2058">
You may assume that \(1, 1, 2, 3, 5, 8,\ldots\) has generating function \(\dfrac{1}{1-x-x^2}\) (because it does). Use this fact to find the sequence generated by each of the following generating functions.
</p>
<ol style="list-style-type: lower-alpha;">
<li id="li-1247">\(\frac{x^2}{1-x-x^2}\).</li>
<li id="li-1248">\(\frac{1}{1-x^2-x^4}\).</li>
<li id="li-1249">\(\frac{1}{1-3x-9x^2}\).</li>
<li id="li-1250">\(\frac{1}{(1-x-x^2)(1-x)}\).</li>
</ol></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-293" id="answer-293"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-293" style="display: none;" class="tex2jax_ignore"><span class="solution"><ol style="list-style-type: lower-alpha;">
<li id="li-1251">\(0,0,1,1,2,3,5,8, \ldots\).</li>
<li id="li-1252">\(1, 0, 1, 0, 2, 0, 3, 0, 5, 0, 8, 0, \ldots\).</li>
<li id="li-1253">\(1, 3, 18, 81, 405, \ldots\).</li>
<li id="li-1254">\(1, 2, 4, 7, 12, 20\).</li>
</ol></span></span>
</div>
<article class="exercise-like" id="exercise-401"><h5 class="heading"><span class="codenumber">14</span></h5>
<p id="p-2059">
Find the generating function for the sequence \(1, -2, 4, -8, 16, \ldots\).
</p></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-294" id="answer-294"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-294" style="display: none;" class="tex2jax_ignore"><span class="solution"><p id="p-2060">
\(\frac{1}{1+2x}\).
</p></span></span>
</div>
<article class="exercise-like" id="exercise-402"><h5 class="heading"><span class="codenumber">15</span></h5>
<p id="p-2061">
Find the generating function for the sequence \(1, 1, 1, 2, 3, 4, 5, 6, \ldots\).
</p></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-295" id="answer-295"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-295" style="display: none;" class="tex2jax_ignore"><span class="solution"><p id="p-2062">
\(\frac{x^3}{(1-x)^2} + \frac{1}{1-x}\).
</p></span></span>
</div>
<article class="exercise-like" id="exercise-403"><h5 class="heading"><span class="codenumber">16</span></h5>
<p id="p-2063">
Suppose \(A\) is the generating function for the sequence \(3, 5, 9, 15, 23, 33, \ldots\).
</p>
<ol style="list-style-type: lower-alpha;">
<li id="li-1255">Find a generating function (in terms of \(A\)) for the sequence of differences between terms.</li>
<li id="li-1256">Write the sequence of differences between terms and find a generating function for it (without referencing \(A\)).</li>
<li id="li-1257">Use your answers to parts (a) and (b) to find the generating function for the original sequence.</li>
</ol></article><div class="hidden-knowl-wrapper">
<span class="hidden-knowl-wrapper"><a knowl="" class="id-ref" refid="hk-answer-296" id="answer-296"><span class="heading"><span class="type">Answer</span></span></a></span><span id="hk-answer-296" style="display: none;" class="tex2jax_ignore"><span class="solution"><ol style="list-style-type: lower-alpha;">
<li id="li-1258">\((1-x)A = 3 + 2x + 4x^2 + 6x^3 + \cdots\) which is almost right.  We can fix it like this:
		 \(2 + 4x + 6x^2 + \cdots = \frac{(1-x)A - 3}{x}\).</li>
<li id="li-1259">We know \(2 + 4x + 6x^3 + \cdots = \frac{2}{(1-x)^2}\).</li>
<li id="li-1260">\(A = \frac{2x}{(1-x)^3} + \frac{3}{1-x} = \frac{3 -4x + 3x^2}{(1-x)^3}\).</li>
</ol></span></span>
</div></section></section></section></div></main>
</div>
</body>
</html>
